---
title: RichText
---

核心用途：行内排版容器，用于把一组“行内组件”按可用宽度排进多行，并提供可选的基线对齐能力。常见于 Markdown 段落的行内样式（加粗、链接、行内代码、不同颜色等）。

## 如何引入
- 项目代码：`import { RichText, Text } from '@/core'`
- 文档/示例：在代码块首行添加 `/** @jsxImportSource @/utils/compiler */`

## 示例

### 混合样式的行内排版

```tsx mode:edit
/** @jsxImportSource @/utils/compiler */
<Container width={360} height={120} color="#ffffff" padding={12}>
  <RichText spacing={2} runSpacing={8}>
    <Text text="这是一段包含" fontSize={14} lineHeight={24} color="#262626" />
    <Text text="加粗" fontSize={14} lineHeight={24} fontWeight="bold" color="#262626" />
    <Text text="、" fontSize={14} lineHeight={24} color="#262626" />
    <Text text="不同颜色" fontSize={14} lineHeight={24} color="#1677ff" />
    <Text text="以及自动换行的文字。" fontSize={14} lineHeight={24} color="#262626" />
  </RichText>
</Container>
```

### 基线对齐（默认开启）

```tsx mode:edit
/** @jsxImportSource @/utils/compiler */
<Container width={360} height={120} color="#ffffff" padding={12}>
  <RichText spacing={4} runSpacing={8}>
    <Text text="2023、2024、" fontSize={14} lineHeight={24} color="#262626" />
    <Text text="HAHAHA" fontSize={14} lineHeight={24} fontWeight="bold" color="#262626" />
    <Text text="，继续保持一致的基线。" fontSize={14} lineHeight={24} color="#262626" />
  </RichText>
</Container>
```

### 关闭基线对齐

```tsx mode:edit
/** @jsxImportSource @/utils/compiler */
<Container width={360} height={120} color="#ffffff" padding={12}>
  <RichText spacing={4} runSpacing={8} alignBaseline={false}>
    <Text text="普通文本" fontSize={14} lineHeight={24} color="#262626" />
    <Container color="#F5F5F5" padding={4} borderRadius={6}>
      <Text text="行内代码" fontSize={12} lineHeight={20} color="#262626" fontFamily="monospace" />
    </Container>
    <Text text="与容器混排时可禁用基线对齐。" fontSize={14} lineHeight={24} color="#262626" />
  </RichText>
</Container>
```

## 属性

| 属性名 | 类型 | 必填 | 默认值 | 说明 |
| --- | --- | --- | --- | --- |
| `spacing` | `number` | 否 | `0` | 同一行子元素之间的水平间距 |
| `runSpacing` | `number` | 否 | `0` | 行与行之间的垂直间距 |
| `alignBaseline` | `boolean` | 否 | `true` | 是否按文本基线对齐同一行的子元素 |
| `flex` | `{ flex?: number; fit?: 'tight' \| 'loose' }` | 否 | 无 | 放入上层容器时的扩展布局属性 |

- children 支持类型：`Multiple`

## 行为说明
- 测量策略：子组件测量时使用无界宽度（`maxWidth = Infinity`），避免 Text 自行换行；由 RichText 统一做折行决策。
- 折行规则：从左到右布局，若加入下一个子元素会超过父容器可用宽度，则换行。
- 基线对齐：开启时会统计每行的最大上升部（ascent）与下降部（descent），并回填每个子组件的 y 偏移，使其基线对齐。

