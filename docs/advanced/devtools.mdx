---
title: DevTools 使用
slug: /advanced/devtools
---

import { DevTools } from '@/devtools/index.tsx';
import Runtime from '@/runtime';
import BrowserOnly from '@docusaurus/BrowserOnly';

# DevTools 使用指南

在 React 中使用组件：

```tsx
import { DevTools } from '@/devtools/index';

<DevTools/>
```

通过快捷键 Command（For MacPs） Or Ctrl（For Windows） + Shift + D 唤起 DevTools。

点击左侧 Inspect 按钮，移动到对应的 Canvas 上，即可查看元素的属性和位置信息。

## 单例机制与注意事项

DevTools 在整个应用中以单例方式存在：

- 任意位置渲染多个 `<DevTools/>`，实际只会创建并挂载一个全局面板。
- 通过 `Devtools.getInstance()` 可获取全局实例；`dispose()` 可销毁实例并移除挂载；`reset()` 仅用于测试重置状态。
- 单例获取实现了双重检查锁定（DCL），在并发初始化场景下也只会创建一个实例。

示例：

```ts
import { Devtools } from '@/devtools';

const inst = Devtools.getInstance();
// ... 在需要时销毁
inst.dispose();
```

## 在线试用

<BrowserOnly>
  {() => (
    <DevTools/>
  )}
</BrowserOnly>

```tsx mode:render
/** @jsxImportSource @/utils/compiler */
<Container color="#f6ffed" borderRadius={12} padding={16}>
  <Column spacing={12}>
    <Text text="DevTools · Inspect / Overlay / Props" fontSize={18} color="#1677ff" />
    <Row spacing={12}>
      <Container width={160} height={96} color="#e6f4ff" borderRadius={12}>
        <Center>
          <Text text="Box A" fontSize={16} color="#2467c0" />
        </Center>
      </Container>
      <Container width={160} height={96} color="#fff1f0" borderRadius={12}>
        <Center>
          <Text text="Box B" fontSize={16} color="#d4380d" />
        </Center>
      </Container>
    </Row>
  </Column>
</Container>
```

```tsx mode:render
/** @jsxImportSource @/utils/compiler */
<Container color="#f6ffed" borderRadius={12} padding={16}>
  <Column spacing={12}>
    <Text text="DevTools · Inspect / Overlay / Props" fontSize={18} color="#1677ff" />
    <Row spacing={12}>
      <Container width={160} height={96} color="#e6f4ff" borderRadius={12}>
        <Center>
          <Text text="Anthor Box A" fontSize={16} color="#2467c0" />
        </Center>
      </Container>
      <Container width={160} height={96} color="#fff1f0" borderRadius={12}>
        <Center>
          <Text text="Anthor Box B" fontSize={16} color="#d4380d" />
        </Center>
      </Container>
    </Row>
  </Column>
</Container>
```


## 功能概览

- Inspect：选择画布中的元素，查看树结构与属性
- Overlay：在画布上叠加边界与对齐参考线
- 属性编辑：直接修改选中元素的属性并实时刷新
- 可停靠面板：支持左/右/上/下停靠与尺寸调整
