#!/usr/bin/env sh

echo "ğŸ”§ Running pre-commit hooks (format + lint on staged files)..."

if command -v pnpm >/dev/null 2>&1; then
  pnpm exec lint-staged
else
  npx --no-install lint-staged
fi

rc=$?
if [ $rc -ne 0 ]; then
  echo "âŒ Pre-commit failed. Please fix the issues above and re-commit."
  exit $rc
fi

echo "âœ… Pre-commit checks passed."
