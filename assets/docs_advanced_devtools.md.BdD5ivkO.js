import{_ as C,C as d,c as t,o as i,ai as a,G as I,j as o,a as g}from"./chunks/framework.Ckc8SVM3.js";const p=JSON.parse('{"title":"开发者工具","description":"","frontmatter":{"id":"devtools","title":"开发者工具","sidebar_position":4},"headers":[],"relativePath":"docs/advanced/devtools.md","filePath":"docs/advanced/devtools.md"}'),n={name:"docs/advanced/devtools.md"};function A(r,e,s,c,b,h){const l=d("InkCodeBlock");return i(),t("div",null,[e[6]||(e[6]=a('<h1 id="开发者工具" tabindex="-1">开发者工具 <a class="header-anchor" href="#开发者工具" aria-label="Permalink to &quot;开发者工具&quot;">​</a></h1><p>Inkwell 配备了开发者工具 (DevTools)，用于实时检查 Widget 树、拾取高亮节点、查看与修改属性，帮助快速定位布局与交互问题。</p><h2 id="启动与集成" tabindex="-1">启动与集成 <a class="header-anchor" href="#启动与集成" aria-label="Permalink to &quot;启动与集成&quot;">​</a></h2><p>DevTools 作为一个独立的浮层组件集成在你的应用中。</p><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h3><p>在应用的根组件中引入并渲染 <code>DevTools</code>：</p>',6)),I(l,{"code-base64":"aW1wb3J0IHsgRGV2VG9vbHMgfSBmcm9tICdAL2RldnRvb2xzJzsKaW1wb3J0IHsgTWluZE1hcCB9IGZyb20gJy4vbWluZG1hcCc7IC8vIOS9oOeahOW6lOeUqOe7hOS7tgoKZnVuY3Rpb24gQXBwKCkgewogIHJldHVybiAoCiAgICA8PgogICAgICB7Lyog5L2g55qE5Lia5Yqh57uE5Lu2ICovfQogICAgICA8TWluZE1hcCAvPgogICAgICAKICAgICAgey8qIOiwg+ivleW3peWFt+e7hOS7tiAqL30KICAgICAgPERldlRvb2xzIC8+IAogICAgPC8+CiAgKTsKfQo=",lang:"tsx",meta:""}),e[7]||(e[7]=o("h3",{id:"快捷键",tabindex:"-1"},[g("快捷键 "),o("a",{class:"header-anchor",href:"#快捷键","aria-label":'Permalink to "快捷键"'},"​")],-1)),o("ul",null,[e[4]||(e[4]=o("li",null,[o("strong",null,"切换显示/隐藏"),g("："),o("code",null,"CmdOrCtrl + Shift + D"),g("。")],-1)),e[5]||(e[5]=o("li",null,[o("strong",null,"自定义快捷键"),g("：可通过 "),o("code",null,"localStorage.setItem('INKWELL_DEVTOOLS_HOTKEY', 'CmdOrCtrl+Shift+D')"),g(" 覆盖默认组合键。")],-1)),o("li",null,[e[0]||(e[0]=o("strong",null,"指定快捷键动作",-1)),e[1]||(e[1]=g("：可将快捷键用于切换拾取模式（不传 ",-1)),e[2]||(e[2]=o("code",null,"action",-1)),e[3]||(e[3]=g(" 默认用于显示/隐藏面板）。",-1)),I(l,{"code-base64":"PERldlRvb2xzIHNob3J0Y3V0PXt7IGNvbWJvOiAnQ21kT3JDdHJsK1NoaWZ0K0QnLCBhY3Rpb246ICdpbnNwZWN0JyB9fSAvPgo=",lang:"tsx",meta:""})])]),e[8]||(e[8]=o("h3",{id:"尝试一下",tabindex:"-1"},[g("尝试一下 "),o("a",{class:"header-anchor",href:"#尝试一下","aria-label":'Permalink to "尝试一下"'},"​")],-1)),I(l,{"code-base64":"LyoqIEBqc3hJbXBvcnRTb3VyY2UgQC91dGlscy9jb21waWxlciAqLwooKCkgPT4gewogIGNvbnN0IHRoZW1lID0gZ2V0Q3VycmVudFRoZW1lKCk7CiAgY29uc3QgaGVpZ2h0ID0gMzI7CgogIGNvbnN0IGNhcmRCZyA9IHRoZW1lLmJhY2tncm91bmQuc3VyZmFjZTsKICBjb25zdCB0aXRsZUNvbG9yID0gdGhlbWUucHJpbWFyeTsKICBjb25zdCBhY2NlbnRBID0gdGhlbWUuc3RhdGUuc2VsZWN0ZWQ7CiAgY29uc3QgYWNjZW50QiA9IHRoZW1lLnN0YXRlLmZvY3VzOwoKICByZXR1cm4gKAogICAgPENvbnRhaW5lciBjb2xvcj17Y2FyZEJnfSBib3JkZXJSYWRpdXM9ezEyfSBwYWRkaW5nPXsxNn0+CiAgICAgIDxDb2x1bW4gc3BhY2luZz17MTJ9PgogICAgICAgIDxUZXh0IHRleHQ9IkRldlRvb2xzIOiwg+ivleWFpeWPoyIgZm9udFNpemU9ezE4fSBjb2xvcj17dGl0bGVDb2xvcn0gLz4KCiAgICAgICAgPFJvdyBzcGFjaW5nPXsxMn0gbWFpbkF4aXNTaXplPSJtaW4iPgogICAgICAgICAgPEJ1dHRvbgogICAgICAgICAgICB0aGVtZT17dGhlbWV9CiAgICAgICAgICAgIGJ0blR5cGU9InByaW1hcnkiCiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnSU5LV0VMTF9ERVZUT09MU19UT0dHTEUnKSl9CiAgICAgICAgICA+CiAgICAgICAgICAgIDxUZXh0CiAgICAgICAgICAgICAgdGV4dD0i5omT5byAL+WFs+mXrSBEZXZUb29scyIKICAgICAgICAgICAgICBmb250U2l6ZT17MTR9CiAgICAgICAgICAgICAgbGluZUhlaWdodD17aGVpZ2h0fQogICAgICAgICAgICAgIGNvbG9yPXt0aGVtZS50ZXh0LmludmVyc2V9CiAgICAgICAgICAgICAgdGV4dEFsaWduVmVydGljYWw9e1RleHRBbGlnblZlcnRpY2FsLkNlbnRlcn0KICAgICAgICAgICAgICBwb2ludGVyRXZlbnQ9Im5vbmUiCiAgICAgICAgICAgIC8+CiAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICA8L1Jvdz4KCiAgICAgICAgPFJvdyBzcGFjaW5nPXsxMn0+CiAgICAgICAgICA8Q29udGFpbmVyIHdpZHRoPXsxNjB9IGhlaWdodD17OTZ9IGNvbG9yPXthY2NlbnRBfSBib3JkZXJSYWRpdXM9ezEyfT4KICAgICAgICAgICAgPENlbnRlcj4KICAgICAgICAgICAgICA8VGV4dCB0ZXh0PSLnpLrkvosgQSIgZm9udFNpemU9ezE2fSBjb2xvcj17dGhlbWUudGV4dC5wcmltYXJ5fSAvPgogICAgICAgICAgICA8L0NlbnRlcj4KICAgICAgICAgIDwvQ29udGFpbmVyPgogICAgICAgICAgPENvbnRhaW5lciB3aWR0aD17MTYwfSBoZWlnaHQ9ezk2fSBjb2xvcj17YWNjZW50Qn0gYm9yZGVyUmFkaXVzPXsxMn0+CiAgICAgICAgICAgIDxDZW50ZXI+CiAgICAgICAgICAgICAgPFRleHQgdGV4dD0i56S65L6LIEIiIGZvbnRTaXplPXsxNn0gY29sb3I9e3RoZW1lLnRleHQucHJpbWFyeX0gLz4KICAgICAgICAgICAgPC9DZW50ZXI+CiAgICAgICAgICA8L0NvbnRhaW5lcj4KICAgICAgICA8L1Jvdz4KICAgICAgPC9Db2x1bW4+CiAgICA8L0NvbnRhaW5lcj4KICApOwp9KSgpCg==",lang:"tsx",meta:"mode:render"}),e[9]||(e[9]=a('<h2 id="核心功能" tabindex="-1">核心功能 <a class="header-anchor" href="#核心功能" aria-label="Permalink to &quot;核心功能&quot;">​</a></h2><h3 id="_1-widget-树检视-tree-inspector" tabindex="-1">1. Widget 树检视 (Tree Inspector) <a class="header-anchor" href="#_1-widget-树检视-tree-inspector" aria-label="Permalink to &quot;1. Widget 树检视 (Tree Inspector)&quot;">​</a></h3><p>左侧面板展示了当前运行时的 Widget 树结构。</p><ul><li><strong>层级结构</strong>：清晰展示父子关系。</li><li><strong>组件类型</strong>：显示 Widget 的类名（如 <code>Container</code>, <code>Text</code>, <code>Row</code>）。</li><li><strong>Key</strong>：显示组件的 Key，便于区分同类组件。</li></ul><h3 id="_2-属性编辑器-props-editor" tabindex="-1">2. 属性编辑器 (Props Editor) <a class="header-anchor" href="#_2-属性编辑器-props-editor" aria-label="Permalink to &quot;2. 属性编辑器 (Props Editor)&quot;">​</a></h3><p>当在树中选中一个 Widget，或通过 Inspect 模式点击画布上的元素时，右侧面板会显示该组件的详细信息：</p><ul><li><strong>Props</strong>：实时查看和修改组件属性（如 <code>width</code>, <code>height</code>, <code>color</code>）。修改后画布会立即刷新。</li><li><strong>State</strong>：对于 <code>StatefulWidget</code>，可以查看当前状态。</li><li><strong>Layout</strong>：显示组件的盒模型数据（Position, Size, Padding, Margin）。</li></ul><h3 id="_3-元素选取-inspect-mode" tabindex="-1">3. 元素选取 (Inspect Mode) <a class="header-anchor" href="#_3-元素选取-inspect-mode" aria-label="Permalink to &quot;3. 元素选取 (Inspect Mode)&quot;">​</a></h3><p>拾取模式用于在画布上直接点选节点并联动到树视图与属性面板：</p><ul><li>点击面板左上角的「拾取」按钮进入拾取模式。</li><li>鼠标悬浮在画布上时，会高亮当前指针下命中的节点。</li><li>点击后会选中该节点，并自动： <ul><li>在树视图中展开到该节点路径；</li><li>将树滚动到可见区域；</li><li>在右侧面板展示该节点的 Props / State / Layout 信息。</li></ul></li></ul><h2 id="机制说明-便于排查问题" tabindex="-1">机制说明（便于排查问题） <a class="header-anchor" href="#机制说明-便于排查问题" aria-label="Permalink to &quot;机制说明（便于排查问题）&quot;">​</a></h2><ul><li><strong>命中测试</strong>：拾取依赖运行时的命中测试结果（等价于对根节点做递归命中测试），因此会受到节点尺寸、位移/缩放等世界矩阵以及 <code>pointerEvent</code> 等属性影响。</li><li><strong>高亮覆盖层</strong>：高亮框通过一个 DOM Overlay 覆盖在 Canvas 之上绘制，不会拦截你的业务交互（仅用于提示）。</li><li><strong>树数据构建</strong>：面板展示的树由运行时 Widget 树转换得到；在面板可见且页面处于激活状态时，会按节流策略刷新以降低开销。</li></ul><h2 id="快捷键补充" tabindex="-1">快捷键补充 <a class="header-anchor" href="#快捷键补充" aria-label="Permalink to &quot;快捷键补充&quot;">​</a></h2><ul><li>默认快捷键为 <code>CmdOrCtrl + Shift + D</code>。</li><li>通过 <code>localStorage.setItem(&#39;INKWELL_DEVTOOLS_HOTKEY&#39;, &#39;...&#39;)</code> 可以覆盖当前组合键（按下后立即生效）。</li><li>若你在集成时将 <code>DevTools</code> 的 <code>shortcut</code> 配置为 <code>{ combo, action: &#39;inspect&#39; }</code>，同一组合键将用于切换拾取模式；否则默认用于切换面板显示/隐藏。</li></ul>',14))])}const W=C(n,[["render",A]]);export{p as __pageData,W as default};
