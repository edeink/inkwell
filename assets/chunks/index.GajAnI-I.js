var ot=Object.defineProperty;var s=(n,t)=>ot(n,"name",{value:t,configurable:!0});import{P as qe,u as Ye,j as e,r as Ee,g as rt,s as it,I as ce,a as se,C as ye,S as lt,L as Xe,R as Ze,b as Je,H as Te,c as G,D as K,d as xe,e as ve,f as ge,h as De,i as ke,T as U,k as Y,B as F,l as P,m as Qe,n as Q,o as q,p as ne,q as Ae,Q as at,t as ct,v as X,w as ue,x as dt,A as ut,y as ht,z as pt,E as mt,F as ft,G as ze,J as Ve,K as vt,M as yt,N as xt,U as _t,O as Ke,V as bt,W as jt,X as Tt,Y as gt,Z as We,_ as kt,$ as Nt,a0 as re}from"../app.Co1krBb7.js";import{r as d,t as Ne}from"./docs-tools.DVPRjDt7.js";import"./plugin-vue_export-helper.hykleeSY.js";function we({content:n,title:t,trigger:l="click",placement:c="bottom",overlayClassName:u,getPopupContainer:h,children:p}){var g;const y=d.useRef(null),w=d.useRef(null),[j,v]=d.useState(!1),[O,R]=d.useState(null),x=d.useContext(qe),T=d.useCallback(()=>{const M=y.current,o=w.current;if(!M||!o)return;const a=M.getBoundingClientRect(),N=o.getBoundingClientRect(),m=8;let r=a.left,i=a.bottom+m;c==="top"?i=a.top-N.height-m:c==="left"?(r=a.left-N.width-m,i=a.top):c==="right"&&(r=a.right+m,i=a.top),r=Math.max(8,Math.min(r,window.innerWidth-N.width-8)),i=Math.max(8,Math.min(i,window.innerHeight-N.height-8)),R({left:r,top:i})},[c]);d.useLayoutEffect(()=>{if(!j)return;T();const M=s(()=>T(),"onResize");return window.addEventListener("resize",M),window.addEventListener("scroll",M,!0),()=>{window.removeEventListener("resize",M),window.removeEventListener("scroll",M,!0)}},[j,T]),Ye(j,w.current,()=>v(!1));const B=j?e.jsxs("div",{ref:w,className:u,style:{position:"fixed",left:(O==null?void 0:O.left)??0,top:(O==null?void 0:O.top)??0,zIndex:9999,minWidth:160,maxWidth:360,borderRadius:12,border:"1px solid var(--ink-demo-border)",background:"var(--ink-demo-bg-container)",color:"var(--ink-demo-text-primary)",boxShadow:"0 10px 30px rgb(0 0 0 / 22%)",padding:10},children:[t?e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:t}):null,n]}):null,D=e.jsx("span",{ref:y,style:{display:"inline-flex"},onClick:l==="click"?()=>{v(M=>!M)}:void 0,onMouseEnter:l==="hover"?()=>v(!0):void 0,onMouseLeave:l==="hover"?()=>v(!1):void 0,children:p});return e.jsxs(d.Fragment,{children:[D,j?Ee.createPortal(B,((g=h??x)==null?void 0:g(y.current??void 0))??document.body):null]})}s(we,"Popover");function Et(n){if(!n)return"#000000";const t=String(n).trim().toLowerCase(),l=/^#([0-9a-f]{3})$/i.exec(t);if(l){const y=l[1];return`#${y[0]}${y[0]}${y[1]}${y[1]}${y[2]}${y[2]}`.toLowerCase()}const c=/^#([0-9a-f]{6})$/i.exec(t);if(c)return`#${c[1]}`.toLowerCase();const u=/^#([0-9a-f]{8})$/i.exec(t);if(u)return`#${u[1].slice(0,6)}`.toLowerCase();const h=/^rgba?\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)(?:\s*,\s*[\d.]+\s*)?\)$/i.exec(t);if(h){const y=Math.max(0,Math.min(255,Math.round(Number(h[1])))),w=Math.max(0,Math.min(255,Math.round(Number(h[2])))),j=Math.max(0,Math.min(255,Math.round(Number(h[3]))));return`#${[y,w,j].map(v=>v.toString(16).padStart(2,"0")).join("")}`.toLowerCase()}const p=/^hsl\s*\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%\s*\)$/i.exec(t);if(p){const y=Number(p[1]),w=Number(p[2])/100,j=Number(p[3])/100,v=(y%360+360)%360,O=(1-Math.abs(2*j-1))*Math.max(0,Math.min(1,w)),R=O*(1-Math.abs(v/60%2-1)),x=j-O/2;let T=0,B=0,D=0;v<60?(T=O,B=R):v<120?(T=R,B=O):v<180?(B=O,D=R):v<240?(B=R,D=O):v<300?(T=R,D=O):(T=O,D=R);const g=Math.max(0,Math.min(255,Math.round((T+x)*255))),M=Math.max(0,Math.min(255,Math.round((B+x)*255))),o=Math.max(0,Math.min(255,Math.round((D+x)*255)));return`#${[g,M,o].map(a=>a.toString(16).padStart(2,"0")).join("")}`.toLowerCase()}return"#000000"}s(Et,"normalizeHexColor");function wt(n){return/^#([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/i.test(n.trim())}s(wt,"isHexColorText");const he={normalizeHexColor:Et,isHexColorText:wt};function Ot({className:n,style:t,value:l,onChange:c,onChangeComplete:u,disabled:h,size:p,showText:y=!1,getPopupContainer:w}){var L;const j=p==="small"?24:p==="large"?32:28,v=d.useRef(null),O=d.useRef(null),[R,x]=d.useState(!1),[T,B]=d.useState(null),D=d.useContext(qe),[g,M]=d.useState(()=>rt()),o=he.normalizeHexColor(l),[a,N]=d.useState(o);d.useEffect(()=>N(o),[o]);const m=s(k=>{const C=he.normalizeHexColor(k);c==null||c(C),u==null||u({toHexString:s(()=>C,"toHexString")})},"apply"),r=s(()=>{const k=v.current,C=O.current;if(!k||!C)return;const S=k.getBoundingClientRect(),z=C.getBoundingClientRect(),W=8;let f=S.left,I=S.bottom+W;f=Math.max(8,Math.min(f,window.innerWidth-z.width-8)),I=Math.max(8,Math.min(I,window.innerHeight-z.height-8)),B({left:f,top:I})},"updatePos");d.useLayoutEffect(()=>{if(!R)return;r();const k=s(()=>r(),"onResize");return window.addEventListener("resize",k),window.addEventListener("scroll",k,!0),()=>{window.removeEventListener("resize",k),window.removeEventListener("scroll",k,!0)}},[R]),Ye(R,O.current,()=>x(!1)),d.useEffect(()=>it(k=>M(k)),[]);const i=d.useMemo(()=>{const k=["#000000","#ffffff",g.primary,g.secondary,g.success,g.warning,g.danger,g.text.primary,g.text.secondary,g.border.base,g.background.base].filter(Boolean);return Array.from(new Set(k.map(C=>he.normalizeHexColor(C))))},[g.background.base,g.border.base,g.danger,g.primary,g.secondary,g.success,g.text.primary,g.text.secondary,g.warning]),b=R?e.jsxs("div",{ref:O,className:"ink-ui-color-picker-panel",style:{position:"fixed",left:(T==null?void 0:T.left)??0,top:(T==null?void 0:T.top)??0,zIndex:1e4,borderRadius:12,border:"1px solid var(--ink-demo-border)",background:"var(--ink-demo-bg-container)",color:"var(--ink-demo-text-primary)",boxShadow:"0 10px 30px rgb(0 0 0 / 22%)",padding:10,width:220,overflow:"hidden"},onMouseDown:s(k=>k.stopPropagation(),"onMouseDown"),onClick:s(k=>k.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[e.jsx("div",{style:{width:44,height:32,border:"1px solid var(--ink-demo-border)",borderRadius:10,overflow:"hidden",boxSizing:"border-box",flexShrink:0},children:e.jsx("input",{type:"color",value:o,disabled:h,onChange:s(k=>m(k.target.value),"onChange"),style:{width:"100%",height:"100%",padding:0,border:"none",background:"transparent",cursor:h?"not-allowed":"pointer",display:"block"}})}),e.jsx(ce,{size:"small",value:a,disabled:h,onChange:s(k=>{const C=k.target.value;N(C),he.isHexColorText(C)&&m(C)},"onChange"),onBlur:s(()=>{he.isHexColorText(a)?m(a):N(o)},"onBlur")})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(16px, 1fr))",justifyItems:"center",gap:6,marginTop:10},children:i.map(k=>e.jsx("button",{type:"button",disabled:h,style:{width:16,height:16,borderRadius:4,border:k.toLowerCase()===o.toLowerCase()?"2px solid var(--ink-demo-primary)":"1px solid var(--ink-demo-border)",background:k,cursor:h?"not-allowed":"pointer",padding:0},onClick:s(()=>m(k),"onClick")},k))})]}):null;return e.jsxs(d.Fragment,{children:[e.jsxs("button",{ref:v,type:"button",disabled:h,className:[n,"ink-ui-color-picker","ink-ui-color-picker-trigger"].filter(Boolean).join(" "),style:{display:"inline-flex",alignItems:"center",gap:8,height:j,border:"1px solid var(--ink-demo-border)",background:"transparent",color:"var(--ink-demo-text-primary)",borderRadius:10,padding:"0 8px",cursor:h?"not-allowed":"pointer",userSelect:"none",...t},onClick:s(()=>{h||x(k=>!k)},"onClick"),children:[e.jsx("span",{"aria-hidden":!0,style:{width:14,height:14,borderRadius:3,background:o,border:"1px solid var(--ink-demo-border-secondary)",display:"inline-flex"}}),y?e.jsx("span",{style:{fontFamily:"monospace",fontSize:12},children:o}):null]}),R?Ee.createPortal(b,((L=w??D)==null?void 0:L(v.current??void 0))??document.body):null]})}s(Ot,"ColorPicker");const St="_helpPanel_14bqz_1",Ct="_helpTitle_14bqz_6",Rt="_helpGroup_14bqz_12",Lt="_helpGroupTitle_14bqz_17",Pt="_helpItem_14bqz_23",It="_helpIcon_14bqz_28",Ht="_helpIconGroup_14bqz_40",Bt="_helpText_14bqz_54",Mt="_helpItemTitle_14bqz_60",Dt="_helpItemDesc_14bqz_65",At="_helpShortcut_14bqz_70",zt="_helpKbd_14bqz_75",Vt="_helpShortcutDesc_14bqz_88",Kt="_helpDivider_14bqz_93",H={helpPanel:St,helpTitle:Ct,helpGroup:Rt,helpGroupTitle:Lt,helpItem:Pt,helpIcon:It,helpIconGroup:Ht,helpText:Bt,helpItemTitle:Mt,helpItemDesc:Dt,helpShortcut:At,helpKbd:zt,helpShortcutDesc:Vt,helpDivider:Kt};function Wt(n){return n===Te.INSPECT?"切换拾取模式":n===Te.CLOSE?"关闭面板":"打开面板"}s(Wt,"getShortcutDesc");function Gt({combo:n,action:t}){return e.jsxs("div",{className:H.helpPanel,children:[e.jsx("div",{className:H.helpTitle,children:"帮助"}),e.jsxs("div",{className:H.helpGroup,children:[e.jsx("div",{className:H.helpGroupTitle,children:"顶部图标"}),e.jsxs("div",{className:H.helpItem,children:[e.jsx("div",{className:H.helpIcon,children:e.jsx(se,{})}),e.jsxs("div",{className:H.helpText,children:[e.jsx("div",{className:H.helpItemTitle,children:"拾取"}),e.jsx("div",{className:H.helpItemDesc,children:"悬浮高亮，点击选中"})]})]}),e.jsxs("div",{className:H.helpItem,children:[e.jsx("div",{className:H.helpIcon,children:e.jsx(ye,{})}),e.jsxs("div",{className:H.helpText,children:[e.jsx("div",{className:H.helpItemTitle,children:"关闭"}),e.jsx("div",{className:H.helpItemDesc,children:"隐藏面板"})]})]})]}),e.jsx("div",{className:H.helpDivider}),e.jsxs("div",{className:H.helpGroup,children:[e.jsx("div",{className:H.helpGroupTitle,children:"Tree 面板"}),e.jsxs("div",{className:H.helpItem,children:[e.jsx("div",{className:H.helpIcon,children:e.jsx(lt,{})}),e.jsxs("div",{className:H.helpText,children:[e.jsx("div",{className:H.helpItemTitle,children:"搜索"}),e.jsx("div",{className:H.helpItemDesc,children:"过滤组件树"})]})]}),e.jsxs("div",{className:H.helpItem,children:[e.jsxs("div",{className:H.helpIconGroup,children:[e.jsx(Xe,{}),e.jsx(Ze,{})]}),e.jsxs("div",{className:H.helpText,children:[e.jsx("div",{className:H.helpItemTitle,children:"面包屑"}),e.jsx("div",{className:H.helpItemDesc,children:"快速跳转到路径节点"})]})]}),e.jsxs("div",{className:H.helpItem,children:[e.jsx("div",{className:H.helpIcon,children:e.jsx(Je,{})}),e.jsxs("div",{className:H.helpText,children:[e.jsx("div",{className:H.helpItemTitle,children:"打印当前节点"}),e.jsx("div",{className:H.helpItemDesc,children:"在控制台输出当前选中的 Widget 对象"})]})]})]}),e.jsx("div",{className:H.helpDivider}),e.jsxs("div",{className:H.helpGroup,children:[e.jsx("div",{className:H.helpGroupTitle,children:"快捷键"}),e.jsxs("div",{className:H.helpShortcut,children:[e.jsx("span",{className:H.helpKbd,children:n}),e.jsx("span",{className:H.helpShortcutDesc,children:Wt(t)})]})]})]})}s(Gt,"DevtoolsHelpContent");function $t(n,t,l){if(!n||!t)return t;const c=[n,l].filter(Boolean),u=s((y,w)=>{if(w===y)return!0;let j=w;for(;j&&j!==y;){const v=j.parent;if(!v||!(v.children??[]).includes(j))return!1;j=v}return j===y},"isReachableInTree"),h=s(y=>{for(const w of c)if(u(w,y))return!0;return!1},"isReachableInAnyTree");let p=t;for(;p;){if(h(p))return p;p=p.parent}return t}s($t,"resolveHitWidget");function Ft(n){for(const t of n)if(t.zIndex!==0)return!0;return!1}s(Ft,"hasZIndex");function _e(n,t,l){if(!n||!n.hitTest(t,l))return null;const c=n.children;if(c.length===0)return n;if(!Ft(c)){for(let h=c.length-1;h>=0;h--){const p=_e(c[h],t,l);if(p)return p}return n}const u=c.slice().reverse().sort((h,p)=>p.zIndex-h.zIndex);for(const h of u){const p=_e(h,t,l);if(p)return p}return n}s(_e,"hitTest");function Ut(){const n=G(u=>u.visible),t=G(u=>u.activeInspect),l=d.useRef(G.getState());d.useEffect(()=>G.subscribe(u=>{l.current=u}),[]);const c=d.useRef({lastOverCanvas:!1,flipCount:0,lastFlipTime:0,lastRuntimeId:""});d.useEffect(()=>{if(!n||!t)return;const u=Ne(h=>{var k,C,S,z,W;const p=l.current,{runtime:y,isMultiRuntime:w,runtimeId:j}=p,v=h.clientX,O=h.clientY,R=ve.listCanvas(),x=R.length>1;x!==w&&p.setIsMultiRuntime(x);let T=null,B=!1;for(const f of R){const I=f.canvas.getBoundingClientRect();if(v>=I.left&&v<=I.right&&O>=I.top&&O<=I.bottom){const V=document.elementFromPoint(v,O);if(V===f.canvas||f.canvas.contains(V)||V&&V.getAttribute("data-devtools-overlay")==="true"||V&&V.closest('[data-devtools-overlay="true"]')){B=!0,T=f.runtime;break}}}const D=Date.now();if(B!==c.current.lastOverCanvas&&(D-c.current.lastFlipTime<200?(c.current.flipCount++,c.current.flipCount>5&&console.error("[DevTools 冻结检测] overCanvas 频繁切换！可能存在死循环。",{overCanvas:B,elAt:document.elementFromPoint(v,O)})):c.current.flipCount=0,c.current.lastFlipTime=D,c.current.lastOverCanvas=B),!B){p.inspectHoverWidget&&p.setInspectHoverWidget(null);return}T&&T!==y&&p.setRuntime(T);const g=T||y;if(!g)return;const M=((k=g.getCanvasId)==null?void 0:k.call(g))??null;M!==j&&p.setRuntimeId(M);const o=g.getRenderer(),a=(C=o==null?void 0:o.getRawInstance)==null?void 0:C.call(o),N=(a==null?void 0:a.canvas)??((S=g.container)==null?void 0:S.querySelector(ge.CANVAS));if(!N)return;const m=N.getBoundingClientRect(),r=v-m.left,i=O-m.top,b=(z=g.getRootWidget)==null?void 0:z.call(g),L=((W=g.getOverlayRootWidget)==null?void 0:W.call(g))??null;if(b)try{let f=null;L&&(f=_e(L,r,i)),f||(f=_e(b,r,i));const I=$t(b,f,L);I!==p.inspectHoverWidget&&p.setInspectHoverWidget(I)}catch(f){console.error("[DevTools] Hit Test Failed:",f)}},16,{trailing:!0});return window.addEventListener(K.MOUSEMOVE,u,xe.PASSIVE_TRUE),()=>{window.removeEventListener(K.MOUSEMOVE,u),u.cancel()}},[n,t]),d.useEffect(()=>{if(!n||!t)return;const u=s(h=>{const p=G.getState();p.inspectHoverWidget&&(h.preventDefault(),h.stopPropagation(),p.setPickedWidget(p.inspectHoverWidget),p.setInspectHoverWidget(null))},"handleClick");return window.addEventListener(K.CLICK,u,{capture:!0}),()=>{window.removeEventListener(K.CLICK,u,{capture:!0})}},[n,t])}s(Ut,"useDevToolsInteraction");function qt(){const n=G(j=>j.runtime),t=G(j=>j.visible),l=d.useRef(0),c=d.useRef(0),u=d.useRef(0),h=d.useRef(!1),p=d.useRef(null),y=d.useRef(null),w=d.useRef({count:0,startTime:Date.now()});d.useEffect(()=>{const j=s(()=>{const v=!document.hidden;G.getState().setIsPageVisible(v)},"handleVisibilityChange");return document.addEventListener("visibilitychange",j),()=>{document.removeEventListener("visibilitychange",j)}},[]),d.useEffect(()=>{if(!t||!n){h.current=!1,p.current&&cancelIdleCallback(p.current),y.current&&clearTimeout(y.current);return}h.current=!0;const j=s(()=>{var O,R,x;if(h.current){if(document.hidden){v();return}if(!((O=n.getCanvasId)!=null&&O.call(n))||!n.container||!document.contains(n.container)){n.container&&!document.contains(n.container)&&G.getState().reset();return}try{const T=De(((R=n.getRootWidget)==null?void 0:R.call(n))??null),B=De(((x=n.getOverlayRootWidget)==null?void 0:x.call(n))??null);let D=T;D^=B>>>0;const g=Math.imul(D,16777619)>>>0;if(g!==l.current){const M=Date.now();if(M-w.current.startTime>5e3&&(w.current={count:0,startTime:M}),w.current.count++,w.current.count>50){h.current=!1;return}l.current=g,c.current=T,u.current=B;const o=G.getState();G.setState({lastTreeHash:g}),o.bumpVersion(),o.updateTreeBuild()}}catch{}v()}},"checkHash"),v=s(()=>{typeof requestIdleCallback<"u"?p.current=requestIdleCallback(()=>{p.current=null,j()},{timeout:500}):y.current=window.setTimeout(()=>{y.current=null,j()},500)},"schedule");return v(),()=>{h.current=!1,p.current&&(cancelIdleCallback(p.current),p.current=null),y.current&&(clearTimeout(y.current),y.current=null)}},[t,n])}s(qt,"useDevToolsMonitor");function ie(n,t,l){return Math.max(t,Math.min(l,n))}s(ie,"clamp$1");const Yt="_layoutPanel_2zvdx_1",Xt="_dockLeft_2zvdx_12",Zt="_dockRight_2zvdx_18",Jt="_dockTop_2zvdx_24",Qt="_dockBottom_2zvdx_30",en="_layoutHeader_2zvdx_40",tn="_left_2zvdx_49",nn="_right_2zvdx_50",sn="_layoutContentGrid_2zvdx_55",on="_isNarrow_2zvdx_65",rn="_treePane_2zvdx_69",ln="_propsPane_2zvdx_85",an="_propsPaneBody_2zvdx_102",cn="_splitHandle_2zvdx_110",dn="_resizeHandle_2zvdx_143",un="_handleLeft_2zvdx_146",hn="_handleRight_2zvdx_152",pn="_handleTop_2zvdx_158",mn="_handleBottom_2zvdx_164",fn="_btnText_2zvdx_170",vn="_btnTextPrimary_2zvdx_174",A={layoutPanel:Yt,dockLeft:Xt,dockRight:Zt,dockTop:Jt,dockBottom:Qt,layoutHeader:en,left:tn,right:nn,layoutContentGrid:sn,isNarrow:on,treePane:rn,propsPane:ln,propsPaneBody:an,splitHandle:cn,resizeHandle:dn,handleLeft:un,handleRight:hn,handleTop:pn,handleBottom:mn,btnText:fn,btnTextPrimary:vn};function yn({treePane:n,propsPane:t,onSplitMouseDown:l}){return e.jsxs("div",{className:A.layoutContentGrid,children:[e.jsx("div",{className:A.treePane,children:n}),e.jsx("div",{className:A.splitHandle,onMouseDown:s(c=>{c.stopPropagation(),l(c)},"onMouseDown")}),e.jsx("div",{className:A.propsPane,children:e.jsx("div",{className:A.propsPaneBody,children:t})})]})}s(yn,"LayoutContentGrid");function xn({dock:n,headerLeft:t,headerRightExtra:l,onDockChange:c,onRequestClose:u}){return e.jsxs("div",{className:A.layoutHeader,children:[e.jsx("div",{className:A.left,children:t}),e.jsxs("div",{className:A.right,children:[e.jsxs(ke.Compact,{children:[e.jsx(U,{title:"靠左",placement:Y.BOTTOM,children:e.jsx(F,{type:"text",className:n===P.LEFT?A.btnTextPrimary:A.btnText,"aria-label":"dock-left","aria-pressed":n===P.LEFT,icon:fe(P.LEFT),onClick:s(()=>{n!==P.LEFT&&c(P.LEFT)},"onClick")})}),e.jsx(U,{title:"靠右",placement:Y.BOTTOM,children:e.jsx(F,{type:"text",className:n===P.RIGHT?A.btnTextPrimary:A.btnText,"aria-label":"dock-right","aria-pressed":n===P.RIGHT,icon:fe(P.RIGHT),onClick:s(()=>{n!==P.RIGHT&&c(P.RIGHT)},"onClick")})}),e.jsx(U,{title:"靠上",placement:Y.BOTTOM,children:e.jsx(F,{type:"text",className:n===P.TOP?A.btnTextPrimary:A.btnText,"aria-label":"dock-top","aria-pressed":n===P.TOP,icon:fe(P.TOP),onClick:s(()=>{n!==P.TOP&&c(P.TOP)},"onClick")})}),e.jsx(U,{title:"靠下",placement:Y.BOTTOM,children:e.jsx(F,{type:"text",className:n===P.BOTTOM?A.btnTextPrimary:A.btnText,"aria-label":"dock-bottom","aria-pressed":n===P.BOTTOM,icon:fe(P.BOTTOM),onClick:s(()=>{n!==P.BOTTOM&&c(P.BOTTOM)},"onClick")})})]}),l==null?void 0:l(u)]})]})}s(xn,"LayoutHeader");function fe(n){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16","aria-hidden":!0,className:A.dockIconSvg,children:[e.jsx("rect",{x:"1",y:"1",width:"14",height:"14",rx:"3",fill:"none",stroke:"currentColor"}),n===P.LEFT&&e.jsx("rect",{x:"2",y:"2",width:"4",height:"12",rx:"2",fill:"currentColor"}),n===P.RIGHT&&e.jsx("rect",{x:"10",y:"2",width:"4",height:"12",rx:"2",fill:"currentColor"}),n===P.TOP&&e.jsx("rect",{x:"2",y:"2",width:"12",height:"4",rx:"2",fill:"currentColor"}),n===P.BOTTOM&&e.jsx("rect",{x:"2",y:"10",width:"12",height:"4",rx:"2",fill:"currentColor"})]})}s(fe,"getDockIcon");function _n({className:n,cursor:t,onResizeMouseDown:l}){return e.jsx("div",{onMouseDown:s(c=>{c.stopPropagation(),l(c)},"onMouseDown"),className:n,style:{cursor:t}})}s(_n,"LayoutResizeHandle");const bn=s(function({visible:t,headerLeft:l,headerRightExtra:c,treePane:u,propsPane:h,onVisibleChange:p}){const{dock:y,width:w,height:j,treeWidth:v,treeHeight:O,isNarrow:R,setWidth:x,setHeight:T,setTreeWidth:B,setTreeHeight:D,setIsNarrow:g,setDock:M}=Qe(Q(i=>({dock:i.dock,width:i.width,height:i.height,treeWidth:i.treeWidth,treeHeight:i.treeHeight,isNarrow:i.isNarrow,setWidth:i.setWidth,setHeight:i.setHeight,setTreeWidth:i.setTreeWidth,setTreeHeight:i.setTreeHeight,setIsNarrow:i.setIsNarrow,setDock:i.setDock}))),o=d.useRef(null);d.useEffect(()=>{if(!o.current)return;const i=new ResizeObserver(b=>{for(const L of b){const k=L.contentRect.width;console.log("[LayoutPanel] ResizeObserver width:",k);const C=k<600;g(S=>S===C?S:S&&k>610?(console.log("[LayoutPanel] 切换到宽屏模式"),!1):!S&&k<590?(console.log("[LayoutPanel] 切换到窄屏模式"),!0):S)}});return i.observe(o.current),()=>i.disconnect()},[g]);const a={[P.LEFT]:A.dockLeft,[P.RIGHT]:A.dockRight,[P.TOP]:A.dockTop,[P.BOTTOM]:A.dockBottom}[y],N={[P.LEFT]:q(A.resizeHandle,A.handleLeft),[P.RIGHT]:q(A.resizeHandle,A.handleRight),[P.TOP]:q(A.resizeHandle,A.handleTop),[P.BOTTOM]:q(A.resizeHandle,A.handleBottom)}[y];function m(i){i.preventDefault();const b=i.clientX,L=i.clientY,k=w,C=j,S=Ne(W=>{const f=W.clientX-b,I=W.clientY-L;y===P.RIGHT&&x(ie(k-f,260,Math.min(window.innerWidth-80,900))),y===P.LEFT&&x(ie(k+f,260,Math.min(window.innerWidth-80,900))),y===P.TOP&&T(ie(C+I,200,Math.min(window.innerHeight-80,800))),y===P.BOTTOM&&T(ie(C-I,200,Math.min(window.innerHeight-80,800)))},16);function z(){document.removeEventListener(K.MOUSEMOVE,S),document.removeEventListener(K.MOUSEUP,z),S.cancel()}s(z,"onUp"),document.addEventListener(K.MOUSEMOVE,S),document.addEventListener(K.MOUSEUP,z)}s(m,"onResizeMouseDown");function r(i){i.preventDefault();const b=i.clientX,L=i.clientY,k=v,C=O,S=Ne(W=>{if(R){const f=W.clientY-L,I=Math.max(160,y===P.TOP||y===P.BOTTOM?j-160:window.innerHeight-200),V=ie(C+f,140,I);D(V)}else{const f=W.clientX-b,I=ie(k+f,200,Math.min((y===P.LEFT||y===P.RIGHT?w:window.innerWidth)-240,800));B(I)}},16);function z(){document.removeEventListener(K.MOUSEMOVE,S),document.removeEventListener(K.MOUSEUP,z),S.cancel()}s(z,"onUp"),document.addEventListener(K.MOUSEMOVE,S),document.addEventListener(K.MOUSEUP,z)}return s(r,"onSplitMouseDown"),e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:o,className:q(A.layoutPanel,a,ne.PANEL_CLASS,R&&A.isNarrow),style:{"--devtools-dock":y,"--devtools-width":`${w}px`,"--devtools-height":`${j}px`,"--tree-width":`${v}px`,"--tree-height":`${O}px`,display:t?void 0:"none"},children:[e.jsx(xn,{dock:y,onDockChange:M,headerLeft:l,headerRightExtra:c,onRequestClose:p?()=>p(!1):()=>{}}),e.jsx(yn,{treePane:u,propsPane:h,onSplitMouseDown:r}),e.jsx(_n,{className:q(A.resizeHandle,N),cursor:y===P.TOP||y===P.BOTTOM?"ns-resize":"ew-resize",onResizeMouseDown:m})]}),e.jsx("style",{children:`${ne.PANEL_SELECTOR} { --devtools-dock: ${y}; }`})]})},"LayoutPanel2"),jn="_overlayRoot_94hls_1",Tn="_overlayBox_94hls_8",gn="_overlayInfo_94hls_15",kn="_overlayArrow_94hls_33",Nn="_overlayLabel_94hls_43",En="_guideH_94hls_48",wn="_guideV_94hls_51",On="_debug_94hls_54",J={overlayRoot:jn,overlayBox:Tn,overlayInfo:gn,overlayArrow:kn,overlayLabel:Nn,guideH:En,guideV:wn,debug:On};function Ge(n,t,l){return Math.max(t,Math.min(l,n))}s(Ge,"clamp");function Sn(n,t){return n===t?!0:!n||!t?!1:n.left===t.left&&n.top===t.top&&n.width===t.width&&n.height===t.height}s(Sn,"isSameBoxRect");function Cn(n,t){return n===t?!0:!n||!t?!1:n.left===t.left&&n.top===t.top&&n.width===t.width&&n.height===t.height&&n.right===t.right&&n.bottom===t.bottom}s(Cn,"isSameViewportRect");function Rn(n,t){return n.active===t.active&&n.label===t.label&&n.direction===t.direction&&Sn(n.boxRect,t.boxRect)&&Cn(n.targetRect,t.targetRect)}s(Rn,"isSameRenderState");function Ln(n,t,l){const c=n.right<0,u=n.left>t,h=n.bottom<0,p=n.top>l;return!c&&!u&&!h&&!p?null:h&&c?"↖":h&&u?"↗":p&&c?"↙":p&&u?"↘":h?"↑":p?"↓":c?"←":"→"}s(Ln,"resolveOffscreenDirection");const Pn=s(function(){const{runtime:t,active:l,widget:c}=G(Q(m=>{let r=!1,i=null;return m.activeInspect&&m.inspectHoverWidget?(r=!0,i=m.inspectHoverWidget):m.treeHoverWidget?(r=!0,i=m.treeHoverWidget):m.pickedWidget&&(r=!0,i=m.pickedWidget),{runtime:m.runtime,active:r,widget:i}})),u=d.useRef(null),h=d.useRef(null),p=d.useRef({active:!1}),[y,w]=d.useState({active:!1}),[j,v]=d.useState(null),O=d.useRef(null),R=d.useCallback(m=>{var Pe,Ie,He,Be;const r=t,i=(r==null?void 0:r.container)??null;if(!i||!u.current)return null;if(!l||!m)return{active:l};const b=((Pe=r==null?void 0:r.getRenderer)==null?void 0:Pe.call(r))??null,L=(Ie=b==null?void 0:b.getRawInstance)==null?void 0:Ie.call(b),k=(L==null?void 0:L.canvas)??i.querySelector(ge.CANVAS)??null;if(!k)return{active:l};const C=i.getBoundingClientRect(),S=k.getBoundingClientRect(),z=window.getComputedStyle(k).transform,W=z&&z!=="none"?In(z):{sx:1,sy:1},f=S.left-C.left,I=S.top-C.top,V=m.getWorldMatrix(),oe=V[0]===1&&V[1]===0&&V[2]===0&&V[3]===1&&V[4]===0&&V[5]===0,et=(((He=m.renderObject.offset)==null?void 0:He.dx)??0)!==0||(((Be=m.renderObject.offset)==null?void 0:Be.dy)??0)!==0;let de=m.getBoundingBox(V);if(oe&&(et||m.parent)){const Me=m.getAbsolutePosition();de={x:Me.dx,y:Me.dy,width:m.renderObject.size.width,height:m.renderObject.size.height}}const Oe=f+de.x*W.sx,Se=I+de.y*W.sy,pe=de.width*W.sx,me=de.height*W.sy,Ce=C.left+Oe,Re=C.top+Se,Le={left:Ce,top:Re,width:pe,height:me,right:Ce+pe,bottom:Re+me},tt=Ln(Le,window.innerWidth,window.innerHeight),nt=Math.round(pe),st=Math.round(me);return{active:!0,boxRect:{left:Oe,top:Se,width:pe,height:me},label:`${m.type} · w:${nt} h:${st}`,targetRect:Le,direction:tt}},[l,t]),x=d.useCallback(()=>{h.current==null&&(h.current=requestAnimationFrame(()=>{h.current=null;const m=R(c);m&&(Rn(m,p.current)||(p.current=m,w(m)))}))},[R,c]);d.useLayoutEffect(()=>{if(!t)return;const m=t.container;if(!m)return;window.getComputedStyle(m).position==="static"&&(m.style.position="relative");const i=document.createElement("div");return i.className=J.overlayRoot,i.setAttribute("data-devtools-overlay","true"),m.appendChild(i),u.current=i,()=>{u.current=null,h.current!=null&&(cancelAnimationFrame(h.current),h.current=null),p.current={active:!1},t.nextTick(()=>i.remove())}},[t]),d.useEffect(()=>{var S,z;if(!t)return;const m=s(()=>l&&!!c,"shouldCompute"),r=s(()=>{m()&&x()},"onResize"),i=s(()=>{m()&&x()},"onScroll");window.addEventListener(K.RESIZE,r),window.addEventListener(K.SCROLL,i,xe.PASSIVE_TRUE);let b=null;const L=t.getRenderer(),k=(S=L==null?void 0:L.getRawInstance)==null?void 0:S.call(L),C=(k==null?void 0:k.canvas)??((z=t.container)==null?void 0:z.querySelector(ge.CANVAS))??null;return C&&typeof MutationObserver<"u"&&(b=new MutationObserver(W=>{m()&&(W.forEach(f=>{console.log("[Overlay] Canvas mutation:",f.attributeName,C.style.cssText,C.className)}),x())}),b.observe(C,{attributes:!0,attributeFilter:[Ae.STYLE,Ae.CLASS]})),()=>{var W;window.removeEventListener(K.RESIZE,r),window.removeEventListener(K.SCROLL,i),(W=b==null?void 0:b.disconnect)==null||W.call(b),b=null}},[l,t,x,c]),d.useEffect(()=>{x()},[x]);const{active:T,boxRect:B,label:D,targetRect:g,direction:M}=y,o=d.useMemo(()=>D??"",[D]),a=d.useMemo(()=>M??"",[M]);if(d.useLayoutEffect(()=>{if(!T||!g||!O.current){v(null);return}const m=window.innerWidth,r=window.innerHeight,i=8,b=8,L=O.current.getBoundingClientRect();let C=g.top-b-L.height>=i?g.top-b-L.height:g.bottom+b;C=Ge(C,i,Math.max(i,r-i-L.height));const S=Ge(g.left,i,Math.max(i,m-i-L.width));v(z=>z&&z.left===S&&z.top===C?z:{left:S,top:C})},[T,o,g]),!u.current||!T||!B)return null;let N;return j&&(N={left:`${j.left}px`,top:`${j.top}px`}),Ee.createPortal(e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:[J.overlayBox,J.debug].join(" "),style:{left:`${B.left}px`,top:`${B.top}px`,width:`${B.width}px`,height:`${B.height}px`},children:[e.jsx("div",{className:J.guideH}),e.jsx("div",{className:J.guideV})]}),e.jsxs("div",{ref:O,className:J.overlayInfo,style:N,children:[a?e.jsx("span",{className:J.overlayArrow,children:a}):null,e.jsx("span",{className:J.overlayLabel,children:o})]})]}),u.current)},"Overlay2");function In(n){const t=n.trim();if(!t||t==="none")return{sx:1,sy:1};const l=t.match(/matrix\(([^)]+)\)/);if(l&&l[1]){const c=l[1].split(",").map(v=>Number(v.trim())),u=c[0]??1,h=c[1]??0,p=c[2]??0,y=c[3]??1,w=Math.sqrt(u*u+h*h)||1,j=Math.sqrt(p*p+y*y)||1;return{sx:w,sy:j}}return{sx:1,sy:1}}s(In,"parseCssScale");const Hn="_inspectBtnActive_16ei9_1",Bn={inspectBtnActive:Hn};function Mn(){const{activeInspect:n,visible:t,runtime:l,toggleInspect:c}=G(Q(h=>({activeInspect:h.activeInspect,visible:h.visible,runtime:h.runtime,toggleInspect:h.toggleInspect}))),u=!t||!l;return e.jsx(U,{title:"Inspect",placement:Y.BOTTOM,children:e.jsx(F,{type:"text","aria-pressed":n,className:q({[Bn.inspectBtnActive]:n}),icon:e.jsx(se,{}),disabled:u,onClick:c})})}s(Mn,"DevtoolsHeaderLeft");const Dn="_helpOverlay_17bdp_1",An={helpOverlay:Dn};function zn({helpContent:n,onRequestClose:t}){return e.jsxs(e.Fragment,{children:[e.jsx(we,{trigger:K.CLICK,placement:Y.BOTTOM,overlayClassName:An.helpOverlay,content:n,children:e.jsx(U,{title:"帮助",placement:Y.BOTTOM,children:e.jsx(F,{type:"text",icon:e.jsx(at,{})})})}),e.jsx(U,{title:"关闭",placement:Y.BOTTOM,children:e.jsx(F,{type:"text",icon:e.jsx(ye,{}),onClick:t})})]})}s(zn,"DevtoolsHeaderRight");const Vn=[X.KEY];function Kn(n){return Vn.includes(n)}s(Kn,"isProtectedKey");function be(n){return n.startsWith(ct.INTERNAL)||n===X.REF}s(be,"isHiddenKey");function Wn(n){if(typeof n!="string")return!1;const t=n.trim().toLowerCase();return!!(/^#([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(t)||/^rgb\s*\(/.test(t)||/^rgba\s*\(/.test(t)||/^hsl\s*\(/.test(t))}s(Wn,"isColor");function Gn(n){return Array.isArray(n)&&n.every(t=>typeof t=="number"&&Number.isFinite(t))}s(Gn,"isNumberArray");function le(n){return n==null?"-":typeof n=="string"?n:typeof n=="number"||typeof n=="boolean"?String(n):Array.isArray(n)?JSON.stringify(n):String(n)}s(le,"formatDisplayValue");const $n="_field_hdc66_1",Fn="_editor_hdc66_9",Un="_editorInactive_hdc66_15",qn="_editorActive_hdc66_19",Yn="_display_hdc66_23",Xn="_displayActive_hdc66_37",Zn="_displayHidden_hdc66_41",Jn="_displayEditable_hdc66_45",Qn="_displayReadonly_hdc66_48",Z={field:$n,editor:Fn,editorInactive:Un,editorActive:qn,display:Yn,displayActive:Xn,displayHidden:Zn,displayEditable:Jn,displayReadonly:Qn},ee=s(function({editor:t,display:l,editable:c=!0,exitOnBlur:u=!0,className:h,displayClassName:p,editorClassName:y}){const[w,j]=d.useState(!1),v=d.useRef(null),O=s((x,T)=>x?!(T&&T.contains(x)||x.closest(ue.UI_SELECT_DROPDOWN)||x.closest(ue.UI_SELECT_ROOT)||x.closest(ue.UI_COLOR_PICKER_PANEL)||x.closest(ue.UI_COLOR_PICKER_ROOT)):!0,"isExitTarget");d.useEffect(()=>{!c&&w&&j(!1)},[c,w]),d.useEffect(()=>{if(!w)return;const x=v.current;if(!x)return;const T=x.querySelector(ue.EDITABLE_FOCUSABLE);T&&typeof T.focus=="function"&&(T.focus(),"select"in T&&typeof T.select=="function"&&T.select())},[w]),d.useEffect(()=>{if(!w||!u)return;const x=s(T=>{const B=T.target instanceof HTMLElement?T.target:null,D=v.current;O(B,D)&&j(!1)},"handlePointerDown");return document.addEventListener(K.POINTERDOWN,x,xe.CAPTURE_TRUE),()=>document.removeEventListener(K.POINTERDOWN,x,xe.CAPTURE_TRUE)},[u,w]);const R=s(x=>{if(!u||!w)return;const T=x.relatedTarget instanceof HTMLElement?x.relatedTarget:null;O(T,x.currentTarget)&&j(!1)},"handleBlurCapture");return e.jsxs("div",{ref:v,className:[Z.field,h??""].filter(Boolean).join(" "),onBlurCapture:R,children:[e.jsx("div",{className:[Z.editor,w?Z.editorActive:Z.editorInactive,y??""].filter(Boolean).join(" "),children:w?typeof t=="function"?t({exit:s(()=>j(!1),"exit"),editing:w}):t:null}),e.jsx("div",{className:[Z.display,w?Z.displayHidden:Z.displayActive,c?Z.displayEditable:Z.displayReadonly,p??""].filter(Boolean).join(" "),onDoubleClick:s(x=>{var T;c&&((T=x.stopPropagation)==null||T.call(x),j(!0))},"onDoubleClick"),children:l})]})},"DoubleClickEditableField2"),es=["left","center","right"],$e=["solid","dashed","dotted"],ts=["start","center","end","spaceBetween","spaceAround","spaceEvenly"],ns=["start","center","end","stretch"],ss=["min","max"],os=Object.values(ut),rs=Object.values(dt),is={cursor:["auto","default","pointer","move","text","not-allowed","grab","grabbing","crosshair","zoom-in","zoom-out"],display:["block","inline","inline-block","flex","grid","none"],position:["static","relative","absolute","fixed","sticky"],overflow:["visible","hidden","scroll","auto"],textAlign:es,flexDirection:["row","row-reverse","column","column-reverse"],justifyContent:["flex-start","center","flex-end","space-between","space-around","space-evenly"],alignItems:["stretch","flex-start","center","flex-end","baseline"],borderStyle:$e,style:$e,mainAxisAlignment:ts,crossAxisAlignment:ns,mainAxisSize:ss,alignment:os,fit:rs},ls="_kvGroup_30uky_1",as="_kvRow_30uky_8",cs="_kvLeft_30uky_17",ds="_kvKey_30uky_24",us="_kvRight_30uky_27",hs="_kvValue_30uky_33",ps="_kvRowObject_30uky_40",ms="_kvHeader_30uky_50",fs="_expanded_30uky_59",vs="_collapseBtn_30uky_62",ys="_kvHeaderLeft_30uky_76",xs="_kvHeaderActions_30uky_83",_s="_kvBody_30uky_87",bs="_kvActions_30uky_93",js="_kvField_30uky_100",Ts="_kvEditor_30uky_105",gs="_kvDisplay_30uky_109",ks="_isObj_30uky_112",Ns="_kvDisplayKey_30uky_115",Es="_kvKeyLocked_30uky_124",ws="_lockIcon_30uky_133",Os="_kvDisplayValue_30uky_137",Ss="_nestedGroup_30uky_148",Cs="_addBtn_30uky_152",Rs="_deleteBtn_30uky_162",Ls="_hiddenHintBtn_30uky_177",Ps="_hiddenPopoverOverlay_30uky_184",Is="_hiddenPopover_30uky_184",Hs="_hiddenPopoverHeader_30uky_192",Bs="_hiddenPopoverCount_30uky_201",Ms="_hiddenPopoverList_30uky_204",Ds="_hiddenItem_30uky_212",As="_arrayEditor_30uky_218",zs="_colorPickerWrap_30uky_234",Vs="_colorPicker_30uky_234",_={kvGroup:ls,kvRow:as,kvLeft:cs,kvKey:ds,kvRight:us,kvValue:hs,kvRowObject:ps,kvHeader:ms,expanded:fs,collapseBtn:vs,kvHeaderLeft:ys,kvHeaderActions:xs,kvBody:_s,kvActions:bs,kvField:js,kvEditor:Ts,kvDisplay:gs,isObj:ks,kvDisplayKey:Ns,kvKeyLocked:Es,lockIcon:ws,kvDisplayValue:Os,nestedGroup:Ss,addBtn:Cs,deleteBtn:Rs,hiddenHintBtn:Ls,hiddenPopoverOverlay:Ps,hiddenPopover:Is,hiddenPopoverHeader:Hs,hiddenPopoverCount:Bs,hiddenPopoverList:Ms,hiddenItem:Ds,arrayEditor:As,colorPickerWrap:zs,colorPicker:Vs},Fe=s(function n({value:t,onChange:l,depth:c=0,readOnly:u=!1,lockedKeys:h=[]}){const p=Object.entries(t||{}),y=p.filter(([o])=>be(o)),w=p.filter(([o])=>!be(o)).sort((o,a)=>{const N=typeof o[1]=="object"&&o[1]!==null&&!Array.isArray(o[1]),m=typeof a[1]=="object"&&a[1]!==null&&!Array.isArray(a[1]);return N===m?0:N?1:-1}),[j,v]=d.useState({}),O=s((o,a)=>{v(N=>({...N,[o]:a}))},"setOpen"),R=s(o=>u||h.includes(o),"isLocked");function x(o,a,N){if(R(o))return;const m={...t};o!==a?(delete m[o],m[a]=N):m[o]=N,l(m)}s(x,"setKV");function T(o){if(R(o))return;const a={...t};delete a[o],l(a)}s(T,"removeKey");function B(){if(u)return;const o="key";let a=1,N=`${o}${a}`;for(;t&&Object.prototype.hasOwnProperty.call(t,N);)a+=1,N=`${o}${a}`;const m={...t,[N]:""};l(m)}s(B,"addKey");function D(o,a){const N=R(o);return e.jsxs("div",{className:_.arrayEditor,children:[e.jsx("span",{className:_.arrayBracket,children:"["}),e.jsx(ke,{size:4,wrap:!1,children:a.map((m,r)=>e.jsxs("span",{className:_.arrayItem,children:[e.jsx(ze,{size:"small",value:m,disabled:N,onChange:s(i=>{if(N)return;const b=[...a];b[r]=Number(i??0),x(o,o,b)},"onChange")}),r<a.length-1&&e.jsx("span",{className:_.arrayComma,children:","})]},`${o}-${r}`))}),e.jsx("span",{className:_.arrayBracket,children:"]"})]})}s(D,"renderNumberArrayEditor");function g(o,a){const N=R(o);if(Wn(a))return e.jsx(ee,{className:_.kvField,displayClassName:_.kvDisplay,editorClassName:_.kvEditor,display:e.jsx("span",{className:_.kvDisplayValue,children:le(a)}),editable:!N,editor:s(()=>e.jsx(ce,{className:_.kvValue,size:"small",value:String(a??""),disabled:N,onChange:s(r=>x(o,o,r.target.value),"onChange"),suffix:e.jsx(ke,{children:e.jsx("span",{className:_.colorPickerWrap,children:e.jsx(Ot,{className:_.colorPicker,value:String(a??""),size:"small",showText:!1,disabled:N,onChangeComplete:s(r=>{x(o,o,r.toHexString())},"onChangeComplete"),getPopupContainer:s(r=>{var i;return((i=r==null?void 0:r.closest)==null?void 0:i.call(r,ne.PANEL_SELECTOR))??document.body},"getPopupContainer")})})})}),"editor")});if(typeof a=="number")return e.jsx(ee,{className:_.kvField,displayClassName:_.kvDisplay,editorClassName:_.kvEditor,display:e.jsx("span",{className:_.kvDisplayValue,children:le(a)}),editable:!N,editor:e.jsx(ze,{className:_.kvValue,size:"small",value:Number(a),disabled:N,onChange:s(r=>x(o,o,Number(r??0)),"onChange")})});if(Gn(a))return e.jsx(ee,{className:_.kvField,displayClassName:_.kvDisplay,editorClassName:_.kvEditor,display:e.jsx("span",{className:_.kvDisplayValue,children:le(a)}),editable:!N,editor:D(o,a)});const m=is[o];return m?e.jsx(ee,{className:_.kvField,displayClassName:_.kvDisplay,editorClassName:_.kvEditor,display:e.jsx("span",{className:_.kvDisplayValue,children:le(a)}),editable:!N,editor:s(({exit:r,editing:i})=>e.jsx(Ve,{className:_.kvValue,size:"small",value:typeof a=="string"?a:void 0,placeholder:"请选择",options:m.map(b=>({label:b,value:b})),disabled:N,autoOpen:i,onChange:s(b=>{x(o,o,b),r()},"onChange"),getPopupContainer:s(b=>{var L;return((L=b==null?void 0:b.closest)==null?void 0:L.call(b,ne.PANEL_SELECTOR))??document.body},"getPopupContainer")}),"editor")}):typeof a=="boolean"?e.jsx(ee,{className:_.kvField,displayClassName:_.kvDisplay,editorClassName:_.kvEditor,display:e.jsx("span",{className:_.kvDisplayValue,children:le(a)}),editable:!N,editor:s(({exit:r,editing:i})=>e.jsx(Ve,{className:_.kvValue,size:"small",value:a,options:[{label:"true",value:!0},{label:"false",value:!1}],disabled:N,autoOpen:i,onChange:s(b=>{x(o,o,b),r()},"onChange"),getPopupContainer:s(b=>{var L;return((L=b==null?void 0:b.closest)==null?void 0:L.call(b,ne.PANEL_SELECTOR))??document.body},"getPopupContainer")}),"editor")}):e.jsx(ee,{className:_.kvField,displayClassName:_.kvDisplay,editorClassName:_.kvEditor,display:e.jsx("span",{className:_.kvDisplayValue,children:le(a)}),editable:!N,editor:e.jsx(ce,{className:_.kvValue,size:"small",value:Array.isArray(a)?JSON.stringify(a):String(a??""),disabled:N,onChange:s(r=>{const i=r.target.value;if(Array.isArray(a))try{const b=JSON.parse(i);if(Array.isArray(b)){x(o,o,b);return}}catch{}x(o,o,i)},"onChange")})})}s(g,"renderValueField");const M=s((o,a)=>{if(R(o))return e.jsxs("div",{className:_.kvKeyLocked,children:[e.jsx("span",{children:o}),e.jsx(U,{title:"受保护属性",children:e.jsx(ft,{className:_.lockIcon})})]});const m=typeof a=="object"&&a!==null&&!Array.isArray(a);return m?e.jsx(U,{title:"对象键不可编辑",children:e.jsx("div",{className:q(_.kvDisplay,{[_.isObj]:m}),children:e.jsx("span",{className:_.kvDisplayKey,children:o})})}):e.jsx(ee,{className:_.kvField,displayClassName:_.kvDisplay,editorClassName:_.kvEditor,display:e.jsx("span",{className:_.kvDisplayKey,children:o}),editor:e.jsx(U,{title:o,children:e.jsx(ce,{className:_.kvKey,size:"small",value:o,onChange:s(r=>x(o,r.target.value,a),"onChange")})})})},"renderKey");return e.jsxs("div",{className:[_.kvGroup,c>0?_.nestedGroup:""].filter(Boolean).join(" "),style:{paddingLeft:c>0?"6px":"0"},children:[w.map(([o,a])=>{const N=typeof a=="object"&&a!==null&&!Array.isArray(a),m=!!j[o]||!N,r=R(o);return N?e.jsxs("div",{className:_.kvRowObject,children:[e.jsxs("div",{className:[_.kvHeader,m?_.expanded:""].join(" "),children:[e.jsx(F,{size:"small",type:"text",className:_.collapseBtn,icon:m?e.jsx(ht,{}):e.jsx(pt,{}),onClick:s(()=>O(o,!m),"onClick")}),e.jsx("div",{className:_.kvHeaderLeft,children:M(o,a)}),e.jsx("div",{className:_.kvHeaderActions,children:!r&&e.jsx(F,{size:"small",type:"text",className:_.deleteBtn,icon:e.jsx(ye,{}),onClick:s(()=>T(o),"onClick")})})]}),m&&e.jsx("div",{className:_.kvBody,children:e.jsx(n,{value:a,onChange:s(i=>x(o,o,i),"onChange"),depth:c+1,readOnly:u,lockedKeys:h})})]},o):e.jsxs("div",{className:_.kvRow,children:[e.jsx("div",{className:_.kvLeft,children:M(o,a)}),e.jsxs("div",{className:_.kvRight,children:[g(o,a),!r&&e.jsx(F,{size:"small",type:"text",className:_.deleteBtn,icon:e.jsx(ye,{}),onClick:s(()=>T(o),"onClick")})]})]},o)}),!u&&e.jsxs("div",{className:_.kvActions,children:[y.length>0&&e.jsx(we,{trigger:K.CLICK,placement:Y.BOTTOM,overlayClassName:_.hiddenPopoverOverlay,getPopupContainer:s(o=>{var a;return((a=o==null?void 0:o.closest)==null?void 0:a.call(o,ne.PANEL_SELECTOR))??document.body},"getPopupContainer"),content:e.jsxs("div",{className:_.hiddenPopover,children:[e.jsxs("div",{className:_.hiddenPopoverHeader,children:[e.jsx(se,{}),e.jsx("span",{children:"内部属性"}),e.jsxs("span",{className:_.hiddenPopoverCount,children:["(",y.length,")"]})]}),e.jsx("div",{className:_.hiddenPopoverList,children:y.map(([o])=>e.jsx("div",{className:_.hiddenItem,children:o},o))})]}),children:e.jsx(F,{size:"small",type:"text",className:_.hiddenHintBtn,icon:e.jsx(se,{}),children:`已隐藏 ${y.length} 个内部属性`})}),e.jsx(F,{type:"text",size:"small",className:_.addBtn,icon:e.jsx(mt,{}),onClick:B,children:"添加属性"})]})]})},"ObjectEditor2"),Ks="_propsEditor_9wet9_1",Ws="_formRow_9wet9_11",Gs="_formLeft_9wet9_25",$s="_formLabel_9wet9_28",Fs="_formRight_9wet9_35",Us="_formInput_9wet9_38",qs="_formActions_9wet9_63",Ys="_emptyState_9wet9_73",Xs="_emptyIcon_9wet9_88",Zs="_emptyTitle_9wet9_100",Js="_emptyDesc_9wet9_106",Qs="_emptySteps_9wet9_111",eo="_emptyStep_9wet9_111",to="_tabs_9wet9_132",no="_tabBody_9wet9_138",so="_tabScroll_9wet9_144",oo="_keyValue_9wet9_155",ro="_keyValueText_9wet9_160",io="_keyIcon_9wet9_165",lo="_callbackGroup_9wet9_173",ao="_eventList_9wet9_176",co="_eventItem_9wet9_182",uo="_eventEmpty_9wet9_191",ho="_group_9wet9_196",po="_groupTitle_9wet9_204",mo="_groupBody_9wet9_216",fo="_section_9wet9_221",vo="_sectionTitle_9wet9_227",yo="_sectionTitlePrimary_9wet9_233",xo="_sectionBody_9wet9_239",_o="_singleColumnGroup_9wet9_244",bo="_callbackBadge_9wet9_274",jo="_readonlyGroup_9wet9_285",To="_readonlyItem_9wet9_290",go="_readonlyLabel_9wet9_306",ko="_readonlyValue_9wet9_310",No="_hiddenHintRow_9wet9_316",Eo="_hiddenHintBtn_9wet9_321",wo="_hiddenPopoverOverlay_9wet9_328",Oo="_hiddenPopover_9wet9_328",So="_hiddenPopoverHeader_9wet9_336",Co="_hiddenPopoverCount_9wet9_345",Ro="_hiddenPopoverList_9wet9_348",Lo="_hiddenItem_9wet9_356",E={propsEditor:Ks,formRow:Ws,formLeft:Gs,formLabel:$s,formRight:Fs,formInput:Us,formActions:qs,emptyState:Ys,emptyIcon:Xs,emptyTitle:Zs,emptyDesc:Js,emptySteps:Qs,emptyStep:eo,tabs:to,tabBody:no,tabScroll:so,keyValue:oo,keyValueText:ro,keyIcon:io,callbackGroup:lo,eventList:ao,eventItem:co,eventEmpty:uo,group:ho,groupTitle:po,groupBody:mo,section:fo,sectionTitle:vo,sectionTitlePrimary:yo,sectionBody:xo,singleColumnGroup:_o,callbackBadge:bo,readonlyGroup:jo,readonlyItem:To,readonlyLabel:go,readonlyValue:ko,hiddenHintRow:No,hiddenHintBtn:Eo,hiddenPopoverOverlay:wo,hiddenPopover:Oo,hiddenPopoverHeader:So,hiddenPopoverCount:Co,hiddenPopoverList:Ro,hiddenItem:Lo};function te({title:n,children:t,bodyClassName:l}){return e.jsxs("div",{className:E.group,children:[e.jsx("div",{className:E.groupTitle,children:n}),e.jsx("div",{className:[E.groupBody,l??""].filter(Boolean).join(" "),children:t})]})}s(te,"Group");function ae({items:n}){const t=[];for(let l=0;l<n.length;l+=2){const c=n.slice(l,l+2);t.push(e.jsx("div",{className:E.readonlyGroup,children:c.map(u=>e.jsxs("div",{className:E.readonlyItem,children:[e.jsx("span",{className:E.readonlyLabel,children:u.label}),e.jsx("span",{className:E.readonlyValue,children:u.value})]},u.key))},`row-${l}`))}return e.jsx(e.Fragment,{children:t})}s(ae,"ReadonlyRows");function Ue({title:n,children:t,bodyClassName:l,titleClassName:c}){return e.jsxs("div",{className:E.section,children:[e.jsx("div",{className:[E.sectionTitle,c??""].filter(Boolean).join(" "),children:n}),e.jsx("div",{className:[E.sectionBody,l??""].filter(Boolean).join(" "),children:t})]})}s(Ue,"Section");const Po=s(function({widget:t,onChange:l}){const c=s(r=>{const i=r==null?void 0:r.state;return!i||typeof i!="object"||Array.isArray(i)?{}:{...i}},"getStateSnapshot"),[u,h]=d.useState({}),[p,y]=d.useState({});d.useEffect(()=>{t?(h({...t.data}),y(c(t))):(h({}),y({}))},[t]);function w(){if(!t)return;const r={...t.data,...u};t.createElement(r);const i=t;i.setState&&Object.keys(p).length>0?i.setState(p):i.state&&Object.keys(p).length>0&&(i.state={...p},t.markDirty()),l()}if(s(w,"apply"),!t)return e.jsx("div",{className:E.propsEditor,children:e.jsxs("div",{className:E.emptyState,children:[e.jsx("div",{className:E.emptyIcon,children:e.jsx(vt,{})}),e.jsx("div",{className:E.emptyTitle,children:"未选择节点"}),e.jsx("div",{className:E.emptyDesc,children:"选择节点后展示可编辑属性"}),e.jsxs("div",{className:E.emptySteps,children:[e.jsx("div",{className:E.emptyStep,children:"点击 Tree 节点"}),e.jsxs("div",{className:E.emptyStep,children:["或点击顶部",e.jsx(se,{style:{margin:"0 4px"}}),"在画布上选取"]})]})]})});const j=Object.entries(u).filter(([r])=>r!==X.INKWELL_TYPE&&r!==X.CHILDREN&&r!==X.STATE),v=j.filter(([r])=>be(r)),O=j.filter(([r])=>!be(r)),R=s(r=>/^on[A-Z]/.test(r),"isCallbackKey"),x=O.filter(([r])=>R(r)),T=Object.entries(p),B=s(r=>r!==X.INKWELL_TYPE&&r!==X.CHILDREN&&r!==X.STATE&&!R(r),"isPropEditable"),D=Object.fromEntries(Object.entries(u).filter(([r])=>B(r))),g=s(r=>{const i=Object.fromEntries(Object.entries(u).filter(([b])=>!B(b)));h({...i,...r})},"onPropsChange"),M=s(r=>{y(r)},"onStateChange"),o=Object.keys(D).filter(r=>r===X.KEY||Kn(r)),a=s(()=>{const r=t.getAbsolutePosition(),i=t.renderObject.size,b=t.renderObject.constraints,L=s(S=>Number.isFinite(S)?String(Math.round(S)):String(S),"fmt"),k=t.data.key==null||t.data.key==="",C=e.jsxs("span",{className:E.keyValue,children:[e.jsx("span",{className:E.keyValueText,children:String(t.key)}),e.jsx(U,{title:k?"Key 由系统自动生成":"Key 由用户显式指定",children:e.jsx("span",{className:E.keyIcon,children:k?e.jsx(xt,{}):e.jsx(_t,{})})})]});return e.jsx("div",{className:E.tabBody,children:e.jsxs("div",{className:E.tabScroll,children:[e.jsx(te,{title:"组件信息",children:e.jsx(ae,{items:[{key:Ke.TYPE,label:Ke.TYPE,value:t.type},{key:X.KEY,label:X.KEY,value:C}]})}),e.jsx(te,{title:"RenderObject",children:e.jsx(ae,{items:[{key:"x",label:"x",value:L(r.dx)},{key:"y",label:"y",value:L(r.dy)},{key:"w",label:"w",value:L(i.width)},{key:"h",label:"h",value:L(i.height)}]})}),b&&e.jsx(te,{title:"约束",children:e.jsx(ae,{items:[{key:"minW",label:"minW",value:L(b.minWidth)},{key:"maxW",label:"maxW",value:L(b.maxWidth)},{key:"minH",label:"minH",value:L(b.minHeight)},{key:"maxH",label:"maxH",value:L(b.maxHeight)}]})}),e.jsx(te,{title:"其它信息",children:e.jsx(ae,{items:[{key:"depth",label:"depth",value:String(t.depth)},{key:"zIndex",label:"zIndex",value:String(t.zIndex)},{key:"mounted",label:"mounted",value:String(t.isMounted)},{key:"repaintBoundary",label:"repaintBoundary",value:String(t.isRepaintBoundary)},{key:"relayoutBoundary",label:"relayoutBoundary",value:String(t.isRelayoutBoundary)},{key:"positioned",label:"positioned",value:String(t.isPositioned)},{key:"layoutDirty",label:"layoutDirty",value:String(t.isLayoutDirty())},{key:"paintDirty",label:"paintDirty",value:String(t.isPaintDirty())}]})}),v.length>0&&e.jsx("div",{className:E.hiddenHintRow,children:e.jsx(we,{trigger:K.CLICK,placement:Y.BOTTOM,overlayClassName:E.hiddenPopoverOverlay,getPopupContainer:s(S=>{var z;return((z=S==null?void 0:S.closest)==null?void 0:z.call(S,ne.PANEL_SELECTOR))??document.body},"getPopupContainer"),content:e.jsxs("div",{className:E.hiddenPopover,children:[e.jsxs("div",{className:E.hiddenPopoverHeader,children:[e.jsx(se,{}),e.jsx("span",{children:"内部属性"}),e.jsxs("span",{className:E.hiddenPopoverCount,children:["(",v.length,")"]})]}),e.jsx("div",{className:E.hiddenPopoverList,children:v.map(([S])=>e.jsx("div",{className:E.hiddenItem,children:S},S))})]}),children:e.jsx(F,{size:"small",type:"text",className:E.hiddenHintBtn,icon:e.jsx(se,{}),children:`已隐藏 ${v.length} 个内部属性`})})})]})})},"renderDebugTab"),N=s(()=>{const r=x.map(([i])=>i);return e.jsx("div",{className:E.tabBody,children:e.jsxs("div",{className:E.tabScroll,children:[e.jsx(te,{title:"事件属性",children:e.jsx(ae,{items:[{key:"pointerEvent",label:"pointerEvent",value:String(t.pointerEvent)},{key:"cursor",label:"cursor",value:String(t.cursor??"-")}]})}),e.jsx(te,{title:"事件绑定",children:e.jsxs(e.Fragment,{children:[e.jsx(ae,{items:[{key:"callbacks",label:"回调数",value:String(x.length)}]}),e.jsx("div",{className:E.eventList,children:r.length>0?r.map(i=>e.jsx("span",{className:E.eventItem,children:i},i)):e.jsx("span",{className:E.eventEmpty,children:"暂无事件绑定"})})]})}),x.length>0&&e.jsx(te,{title:"回调详情",children:e.jsx("div",{className:E.callbackGroup,children:x.map(([i,b])=>e.jsxs("div",{className:E.formRow,children:[e.jsx("div",{className:E.formLeft,children:e.jsx("label",{className:E.formLabel,children:i})}),e.jsx("div",{className:E.formRight,children:e.jsx(ce,{className:E.formInput,size:"small",suffix:e.jsx("span",{className:E.callbackBadge,children:"[回调]"}),value:typeof b=="function"?"[Function]":String(b??""),disabled:!0})})]},i))})})]})})},"renderEventTab"),m=s(()=>e.jsxs("div",{className:E.tabBody,children:[e.jsxs("div",{className:E.tabScroll,children:[T.length>0&&e.jsx(Ue,{title:"State",titleClassName:E.sectionTitlePrimary,bodyClassName:E.singleColumnGroup,children:e.jsx(Fe,{value:p,onChange:M})}),Object.keys(D).length>0&&e.jsx(Ue,{title:"Props",titleClassName:E.sectionTitlePrimary,children:e.jsx(Fe,{value:D,onChange:g,lockedKeys:o})})]}),e.jsx("div",{className:E.formActions,children:e.jsx(F,{type:"primary",size:"small",onClick:s(r=>{var i;(i=r.stopPropagation)==null||i.call(r),w()},"onClick"),children:"应用"})})]}),"renderEditableTab");return e.jsx("div",{className:E.propsEditor,children:e.jsx(yt,{className:E.tabs,size:"small",tabBarPadding:"8px 4px",items:[{key:"editable",label:"状态",children:m()},{key:"debug",label:"调试信息",children:a()},{key:"events",label:"事件",children:N()}]})})},"PropsEditor2");function Io(){const{selectedNodeKey:n,treeBuild:t,runtime:l}=G(Q(h=>({selectedNodeKey:h.selectedNodeKey,treeBuild:h.treeBuild,runtime:h.runtime}))),c=n&&t.widgetByNodeKey.get(n)||null,u=s(()=>{l==null||l.rebuild()},"handleApply");return e.jsx(Po,{widget:c,onChange:u})}s(Io,"DevtoolsPropsPane");const Ho="_simpleTip_51tmm_1",Bo="_text_51tmm_13",Mo="_icon_51tmm_23",je={simpleTip:Ho,text:Bo,icon:Mo};function Do({message:n,className:t,style:l}){return e.jsxs("div",{className:[je.simpleTip,t??""].join(" ").trim(),style:l,children:[e.jsx("span",{className:je.text,children:n}),e.jsx(U,{title:n,placement:Y.TOP,children:e.jsx("span",{className:je.icon,"aria-label":"更多信息",children:e.jsx(bt,{})})})]})}s(Do,"SimpleTip");const Ao="_treePaneRoot_1u5fr_1",zo="_treeToolbar_1u5fr_8",Vo="_treeToolbarSearch_1u5fr_14",Ko="_compactTree_1u5fr_24",Wo="_breadcrumbsContainer_1u5fr_29",Go="_navBtn_1u5fr_39",$o="_disabled_1u5fr_50",Fo="_scrollArea_1u5fr_59",Uo="_crumbItem_1u5fr_73",qo="_crumbItemActive_1u5fr_90",Yo="_separator_1u5fr_95",$={treePaneRoot:Ao,treeToolbar:zo,treeToolbarSearch:Vo,compactTree:Ko,breadcrumbsContainer:Wo,navBtn:Go,disabled:$o,scrollArea:Fo,crumbItem:Uo,crumbItemActive:qo,separator:Yo},Xo=s(function(){const{isMultiRuntime:t,treeBuild:l,expandedKeys:c,selectedNodeKey:u,setExpandedKeys:h,handleSelectKey:p,handleHoverKey:y,handleClickBreadcrumbKey:w,handlePrintSelected:j}=G(Q(f=>({isMultiRuntime:f.isMultiRuntime,treeBuild:f.treeBuild,expandedKeys:f.expandedKeys,selectedNodeKey:f.selectedNodeKey,setExpandedKeys:f.setExpandedKeys,handleSelectKey:f.handleSelectKey,handleHoverKey:f.handleHoverKey,handleClickBreadcrumbKey:f.handleClickBreadcrumbKey,handlePrintSelected:f.handlePrintSelected}))),{dock:v,isNarrow:O}=Qe(Q(f=>({dock:f.dock,isNarrow:f.isNarrow}))),R=l.treeData,x=d.useMemo(()=>u?jt(l.parentByNodeKey,u).map(f=>{const I=l.widgetByNodeKey.get(f),V=I?I.constructor.name:"Unknown";return{key:f,label:V}}):[],[u,l]),T=d.useMemo(()=>Array.from(c),[c]),B=!O&&x.length>0,[D,g]=d.useState(""),[M,o]=d.useState(0),[a,N]=d.useState({left:!1,right:!1}),m=d.useMemo(()=>D.trim().toLowerCase(),[D]),r=d.useRef(null),i=d.useRef(null),b=d.useRef(null),L=d.useRef(null),k=d.useRef(null),C=d.useRef(null),S=d.useCallback(()=>{const f=C.current;if(!f)return;const{scrollLeft:I,scrollWidth:V,clientWidth:oe}=f;N({left:I>1,right:Math.ceil(I+oe)<V-1})},[]);d.useEffect(()=>{const f=C.current;if(!f)return;const I=s(()=>S(),"onScroll");return f.addEventListener(K.SCROLL,I),window.addEventListener(K.RESIZE,S),()=>{f.removeEventListener(K.SCROLL,I),window.removeEventListener(K.RESIZE,S)}},[S]),d.useEffect(()=>{requestAnimationFrame(()=>{S();const f=C.current;f&&f.scrollTo({left:f.scrollWidth,behavior:"smooth"})})},[x,S]),d.useEffect(()=>{const f=i.current;if(!f)return;const I=s(()=>{o(oe=>Math.abs(f.clientHeight-oe)<=1?oe:f.clientHeight)},"update");if(typeof ResizeObserver>"u")return window.addEventListener(K.RESIZE,I),()=>window.removeEventListener(K.RESIZE,I);const V=new ResizeObserver(I);return V.observe(f),()=>V.disconnect()},[]);const z=d.useMemo(()=>M>0?M:300,[M]),W=d.useCallback((f,I)=>{y(f)},[y]);return e.jsxs("div",{ref:r,className:$.treePaneRoot,children:[t&&e.jsx("div",{ref:b,children:e.jsx(Do,{message:"检测到当前页面存在多个 runtime。激活 inspect 模式后，将鼠标移动到目标 canvas 上可切换对应的 runtime。"})}),e.jsxs("div",{className:$.treeToolbar,ref:L,children:[e.jsx("div",{className:$.treeToolbarSearch,children:e.jsx(ce.Search,{value:D,onChange:s(f=>g(f.target.value),"onChange"),placeholder:"搜索组件",allowClear:!0})}),e.jsx(U,{title:"打印选中组件到控制台",placement:Y.BOTTOM,children:e.jsx(F,{type:"text",icon:e.jsx(Je,{}),disabled:!u,onClick:j})})]}),e.jsx("div",{className:$.compactTree,ref:i,children:e.jsx(Tt,{treeData:R,height:z,expandedKeys:T,selectedKeys:u?[u]:[],onExpand:s(f=>h(new Set(f)),"onExpand"),onSelect:s(f=>{const I=f[0];I&&p(I)},"onSelect"),titleRender:s(f=>{const V=m&&f.title.toLowerCase().includes(m);return e.jsx("div",{className:q($.treeNodeTitle,{[$.treeNodeTitleHover]:!1,[$.treeNodeTitleMatch]:V}),onMouseEnter:s(()=>W(f.key,"enter"),"onMouseEnter"),onMouseLeave:s(()=>W(null,"leave"),"onMouseLeave"),style:{whiteSpace:"nowrap"},children:f.title})},"titleRender")})}),B&&e.jsxs("div",{className:$.breadcrumbsContainer,ref:k,children:[e.jsx("div",{className:q($.navBtn,{[$.disabled]:!a.left}),onClick:s(()=>{C.current&&C.current.scrollBy({left:-100,behavior:"smooth"})},"onClick"),children:e.jsx(Xe,{})}),e.jsx("div",{className:$.scrollArea,ref:C,children:x.map((f,I)=>{const V=I===x.length-1;return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("div",{className:q($.crumbItem,{[$.crumbItemActive]:V}),onClick:s(()=>w(f.key),"onClick"),onMouseEnter:s(()=>W(f.key,"enter"),"onMouseEnter"),onMouseLeave:s(()=>W(null,"leave"),"onMouseLeave"),children:f.label}),!V&&e.jsx("div",{className:$.separator,children:"/"})]},f.key)})}),e.jsx("div",{className:q($.navBtn,{[$.disabled]:!a.right}),onClick:s(()=>{C.current&&C.current.scrollBy({left:100,behavior:"smooth"})},"onClick"),children:e.jsx(Ze,{})})]})]})},"DevtoolsTreePane2"),Zo=s(function({helpContent:t}){console.log("[DevToolsPanelInner] 渲染"),d.useLayoutEffect(()=>(console.log("[DevToolsPanelInner] 挂载"),()=>console.log("[DevToolsPanelInner] 卸载")),[]),qt(),Ut();const{visible:l,setVisible:c}=G(Q(u=>({visible:u.visible,setVisible:u.setVisible})));return e.jsxs(e.Fragment,{children:[e.jsx(Pn,{}),e.jsx(bn,{visible:l,headerLeft:e.jsx(Mn,{}),headerRightExtra:s(u=>e.jsx(zn,{helpContent:t,onRequestClose:u}),"headerRightExtra"),onVisibleChange:s(u=>{c(u)},"onVisibleChange"),treePane:e.jsx(Xo,{}),propsPane:e.jsx(Io,{})})]})},"DevToolsPanelInner2"),nr=s(function(t={}){const{setVisible:l,setActiveInspect:c,toggleInspect:u,setRuntime:h}=G(Q(v=>({setVisible:v.setVisible,setActiveInspect:v.setActiveInspect,toggleInspect:v.toggleInspect,setRuntime:v.setRuntime}))),p=d.useMemo(()=>{const v=gt(t.shortcut)?t.shortcut:We(t.shortcut)?t.shortcut.combo:void 0;return v||(kt.get()??Nt)},[t.shortcut]),y=d.useMemo(()=>We(t.shortcut)&&t.shortcut.action?t.shortcut.action:Te.OPEN,[t.shortcut]),w=d.useMemo(()=>e.jsx(Gt,{combo:p,action:y}),[p,y]),j=s(()=>{var R;const v=G.getState().runtime;if(!(v&&((R=v.getCanvasId)==null?void 0:R.call(v))&&ve.canvasRegistry.has(v.getCanvasId()))){const x=Array.from(ve.canvasRegistry.values());x.length>0?h(x[0].runtime):v&&h(null)}},"tryAutoConnectRuntime");return d.useLayoutEffect(()=>{t.defaultOpen&&(l(!0),j());const v=ve.subscribeCanvasRegistryChange(()=>{j()});return()=>{v()}},[]),d.useLayoutEffect(()=>{const v=s(()=>{l(!0),j()},"handleOpen"),O=s(()=>{l(!1),c(!1)},"handleClose"),R=s(()=>{l(!0),j(),u()},"handleInspectToggle");return window.addEventListener(re.OPEN,v),window.addEventListener(re.CLOSE,O),window.addEventListener(re.INSPECT_TOGGLE,R),()=>{window.removeEventListener(re.OPEN,v),window.removeEventListener(re.CLOSE,O),window.removeEventListener(re.INSPECT_TOGGLE,R)}},[]),e.jsx(Zo,{helpContent:w})},"DevToolsPanel2");export{nr as DevToolsPanel};
