var I=Object.defineProperty;var g=(c,d)=>I(c,"name",{value:d,configurable:!0});import{_ as C,C as r,c as i,o as A,j as e,G as l,ai as a,a as o}from"./chunks/framework.BnOgjZe9.js";const p=JSON.parse('{"title":"ScrollView","description":"","frontmatter":{"title":"ScrollView"},"headers":[],"relativePath":"docs/api/widgets/ScrollView.md","filePath":"docs/api/widgets/ScrollView.md"}'),n={name:"docs/api/widgets/ScrollView.md"};function b(c,d,s,h,u,V){const t=r("InkCodeBlock");return A(),i("div",null,[d[0]||(d[0]=e("p",null,[o("核心用途："),e("code",null,"ScrollView"),o(" 是基于 "),e("code",null,"Viewport"),o(" 构建的通用滚动容器，增加了滚动条、溢出裁剪（Overflow Clipping）和弹性滚动（Bounce）效果，适用于常规的长列表或内容滚动场景。")],-1)),d[1]||(d[1]=e("h2",{id:"如何引入",tabindex:"-1"},[o("如何引入 "),e("a",{class:"header-anchor",href:"#如何引入","aria-label":'Permalink to "如何引入"'},"​")],-1)),l(t,{"code-base64":"aW1wb3J0IHsgU2Nyb2xsVmlldyB9IGZyb20gJ0AvY29yZSc7Cg==",lang:"typescript",meta:""}),d[2]||(d[2]=e("h2",{id:"示例",tabindex:"-1"},[o("示例 "),e("a",{class:"header-anchor",href:"#示例","aria-label":'Permalink to "示例"'},"​")],-1)),d[3]||(d[3]=e("h3",{id:"_1-基础滚动视图-basic-scrollview",tabindex:"-1"},[o("1. 基础滚动视图 (Basic ScrollView) "),e("a",{class:"header-anchor",href:"#_1-基础滚动视图-basic-scrollview","aria-label":'Permalink to "1. 基础滚动视图 (Basic ScrollView)"'},"​")],-1)),d[4]||(d[4]=e("p",null,[o("使用 "),e("code",null,"ScrollView"),o(" 包裹超出尺寸的内容，实现自动裁剪和滚动。")],-1)),l(t,{"code-base64":"LyoqIEBqc3hJbXBvcnRTb3VyY2UgQC91dGlscy9jb21waWxlciAqLwooKCkgPT4gewogIGNvbnN0IHRoZW1lID0gZ2V0Q3VycmVudFRoZW1lKCk7CiAgcmV0dXJuICgKICAgIDxTY3JvbGxWaWV3IHdpZHRoPXszMDB9IGhlaWdodD17MjAwfSBvdmVyZmxvdz0iaGlkZGVuIiBzY3JvbGxCYXJDb2xvcj17dGhlbWUudGV4dC5zZWNvbmRhcnl9PgogICAgICA8Q29sdW1uPgogICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMCB9KS5tYXAoKF8sIGkpID0+ICgKICAgICAgICAgIDxDb250YWluZXIKICAgICAgICAgICAga2V5PXtpfQogICAgICAgICAgICB3aWR0aD17MjgwfQogICAgICAgICAgICBoZWlnaHQ9ezQwfQogICAgICAgICAgICBtYXJnaW49e3sgYm90dG9tOiAxMCB9fQogICAgICAgICAgICBjb2xvcj17dGhlbWUuYmFja2dyb3VuZC5zdXJmYWNlfQogICAgICAgICAgPgogICAgICAgICAgICA8VGV4dCB0ZXh0PXtgSXRlbSAke2kgKyAxfWB9IGNvbG9yPXt0aGVtZS50ZXh0LnByaW1hcnl9IC8+CiAgICAgICAgICA8L0NvbnRhaW5lcj4KICAgICAgICApKX0KICAgICAgPC9Db2x1bW4+CiAgICA8L1Njcm9sbFZpZXc+CiAgKTsKfSkoKQo=",lang:"tsx",meta:"mode:edit"}),d[5]||(d[5]=e("h3",{id:"_2-弹性滚动-bouncing-scrollview",tabindex:"-1"},[o("2. 弹性滚动 (Bouncing ScrollView) "),e("a",{class:"header-anchor",href:"#_2-弹性滚动-bouncing-scrollview","aria-label":'Permalink to "2. 弹性滚动 (Bouncing ScrollView)"'},"​")],-1)),d[6]||(d[6]=e("p",null,[o("开启 "),e("code",null,"enableBounce"),o(" 实现类似 iOS 的阻尼回弹效果。")],-1)),l(t,{"code-base64":"LyoqIEBqc3hJbXBvcnRTb3VyY2UgQC91dGlscy9jb21waWxlciAqLwooKCkgPT4gewogIGNvbnN0IHRoZW1lID0gZ2V0Q3VycmVudFRoZW1lKCk7CiAgcmV0dXJuICgKICAgIDxTY3JvbGxWaWV3CiAgICAgIHdpZHRoPXszMDB9CiAgICAgIGhlaWdodD17MjAwfQogICAgICBlbmFibGVCb3VuY2U9e3RydWV9CiAgICAgIGJvdW5jZURhbXBpbmc9ezAuNn0KICAgICAgc2Nyb2xsQmFyQ29sb3I9e3RoZW1lLnRleHQuc2Vjb25kYXJ5fQogICAgPgogICAgICA8Q29udGFpbmVyIHdpZHRoPXszMDB9IGhlaWdodD17MjAwfSBjb2xvcj17dGhlbWUuYmFja2dyb3VuZC5zdXJmYWNlfT4KICAgICAgICA8Q2VudGVyPgogICAgICAgICAgPFRleHQgdGV4dD0iUHVsbCBtZSBkb3duL3VwISIgY29sb3I9e3RoZW1lLnRleHQucHJpbWFyeX0gLz4KICAgICAgICA8L0NlbnRlcj4KICAgICAgPC9Db250YWluZXI+CiAgICA8L1Njcm9sbFZpZXc+CiAgKTsKfSkoKQo=",lang:"tsx",meta:"mode:edit"}),d[7]||(d[7]=a('<h3 id="_3-滚轮链式滚动与-dom-互操作" tabindex="-1">3. 滚轮链式滚动与 DOM 互操作 <a class="header-anchor" href="#_3-滚轮链式滚动与-dom-互操作" aria-label="Permalink to &quot;3. 滚轮链式滚动与 DOM 互操作&quot;">​</a></h3><p>默认情况下，<code>ScrollView</code> 的滚轮滚动在到达边界时不会继续“过卷”（overscroll），而是允许事件继续向外传播：</p><ul><li>嵌套在外层 <code>ScrollView</code> 内时，可以把剩余滚动交给外层消费，实现链式滚动。</li><li>当整个 Canvas 内的滚动都到达边界时，可以把滚动交给 DOM（页面）继续滚动，实现 DOM/Canvas 无缝切换（自上而下与自下而上对称）。</li></ul><p>如果你希望在滚轮上也启用回弹过卷（例如纯 Canvas 场景的触控板手感），可以打开 <code>enableWheelBounce</code>。</p>',4)),l(t,{"code-base64":"LyoqIEBqc3hJbXBvcnRTb3VyY2UgQC91dGlscy9jb21waWxlciAqLwooKCkgPT4gewogIGNvbnN0IHRoZW1lID0gZ2V0Q3VycmVudFRoZW1lKCk7CiAgcmV0dXJuICgKICAgIDxTY3JvbGxWaWV3IHdpZHRoPXszNjB9IGhlaWdodD17MjQwfT4KICAgICAgPENvbHVtbj4KICAgICAgICA8Q29udGFpbmVyIHdpZHRoPXszNjB9IGhlaWdodD17MTIwfSBjb2xvcj17dGhlbWUuYmFja2dyb3VuZC5zdXJmYWNlfT4KICAgICAgICAgIDxUZXh0IHRleHQ9IuWkluWxgu+8muWeguebtOa7muWKqOWuueWZqO+8iOWQkeS4i+a7muWKqO+8iSIgY29sb3I9e3RoZW1lLnRleHQucHJpbWFyeX0gLz4KICAgICAgICA8L0NvbnRhaW5lcj4KCiAgICAgICAgPFNjcm9sbFZpZXcgd2lkdGg9ezM2MH0gaGVpZ2h0PXsxMjB9IHNjcm9sbEJhckNvbG9yPXt0aGVtZS50ZXh0LnNlY29uZGFyeX0+CiAgICAgICAgICA8Um93PgogICAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogMTIgfSkubWFwKChfLCBpKSA9PiAoCiAgICAgICAgICAgICAgPENvbnRhaW5lcgogICAgICAgICAgICAgICAga2V5PXtpfQogICAgICAgICAgICAgICAgd2lkdGg9ezEyMH0KICAgICAgICAgICAgICAgIGhlaWdodD17MTIwfQogICAgICAgICAgICAgICAgY29sb3I9e2kgJSAyID09PSAwID8gdGhlbWUuc3RhdGUuc2VsZWN0ZWQgOiB0aGVtZS5iYWNrZ3JvdW5kLmNvbnRhaW5lcn0KICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICA8Q2VudGVyPgogICAgICAgICAgICAgICAgICA8VGV4dCB0ZXh0PXtg5Y2h54mHICR7aSArIDF9YH0gY29sb3I9e3RoZW1lLnRleHQucHJpbWFyeX0gLz4KICAgICAgICAgICAgICAgIDwvQ2VudGVyPgogICAgICAgICAgICAgIDwvQ29udGFpbmVyPgogICAgICAgICAgICApKX0KICAgICAgICAgIDwvUm93PgogICAgICAgIDwvU2Nyb2xsVmlldz4KCiAgICAgICAgPENvbnRhaW5lciB3aWR0aD17MzYwfSBoZWlnaHQ9ezI0MH0gY29sb3I9e3RoZW1lLmJhY2tncm91bmQuc3VyZmFjZX0+CiAgICAgICAgICA8VGV4dCB0ZXh0PSLnu6fnu63lkJHkuIvmu5rliqjvvJrlpJblsYLkvJrmjqXnrqHvvJvliLDovr7ovrnnlYzlkI7kuqTnu5npobXpnaLmu5rliqgiIGNvbG9yPXt0aGVtZS50ZXh0LnByaW1hcnl9IC8+CiAgICAgICAgPC9Db250YWluZXI+CiAgICAgIDwvQ29sdW1uPgogICAgPC9TY3JvbGxWaWV3PgogICk7Cn0pKCkK",lang:"tsx",meta:"mode:edit"}),d[8]||(d[8]=a('<h2 id="api-文档" tabindex="-1">API 文档 <a class="header-anchor" href="#api-文档" aria-label="Permalink to &quot;API 文档&quot;">​</a></h2><h3 id="scrollviewprops" tabindex="-1">ScrollViewProps <a class="header-anchor" href="#scrollviewprops" aria-label="Permalink to &quot;ScrollViewProps&quot;">​</a></h3><p><code>ScrollView</code> 继承自 <code>Viewport</code>，拥有其所有属性（如 <code>width</code>, <code>height</code>, <code>scale</code>, <code>tx</code>, <code>ty</code> 等），并增加了以下特有属性：</p><table tabindex="0"><thead><tr><th>属性名</th><th>类型</th><th>必填</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>overflow</code></td><td><code>&#39;hidden&#39; | &#39;visible&#39;</code></td><td>否</td><td><code>&#39;hidden&#39;</code></td><td>控制超出视口的内容是否裁剪。</td></tr><tr><td><code>scrollBarColor</code></td><td><code>string</code></td><td>否</td><td>-</td><td>滚动条滑块颜色。</td></tr><tr><td><code>scrollBarWidth</code></td><td><code>number</code></td><td>否</td><td><code>6</code></td><td>滚动条宽度。</td></tr><tr><td><code>scrollBarTrackColor</code></td><td><code>string</code></td><td>否</td><td>-</td><td>滚动条轨道颜色。</td></tr><tr><td><code>scrollBarHoverColor</code></td><td><code>string</code></td><td>否</td><td>-</td><td>滚动条悬停颜色。</td></tr><tr><td><code>scrollBarActiveColor</code></td><td><code>string</code></td><td>否</td><td>-</td><td>滚动条拖拽激活颜色。</td></tr><tr><td><code>scrollBarVisibilityMode</code></td><td><code>&#39;always&#39; | &#39;hidden&#39; | &#39;auto&#39;</code></td><td>否</td><td><code>&#39;auto&#39;</code></td><td>滚动条可见策略：<code>hidden</code> 强制隐藏；<code>always/auto</code> 在内容溢出时显示。</td></tr><tr><td><code>enableBounce</code></td><td><code>boolean</code></td><td>否</td><td><code>false</code></td><td>是否开启弹性滚动（回弹效果）。</td></tr><tr><td><code>enableWheelBounce</code></td><td><code>boolean</code></td><td>否</td><td><code>false</code></td><td>是否允许滚轮在边界继续过卷（会阻断链式滚动与 DOM 交接）。</td></tr><tr><td><code>enableBounceVertical</code></td><td><code>boolean</code></td><td>否</td><td>-</td><td>是否开启垂直方向弹性（默认跟随 <code>enableBounce</code>）。</td></tr><tr><td><code>enableBounceHorizontal</code></td><td><code>boolean</code></td><td>否</td><td>-</td><td>是否开启水平方向弹性（默认跟随 <code>enableBounce</code>）。</td></tr><tr><td><code>maxBounceDistance</code></td><td><code>number</code></td><td>否</td><td>-</td><td>最大回弹距离。</td></tr><tr><td><code>bounceDamping</code></td><td><code>number</code></td><td>否</td><td>-</td><td>回弹阻尼系数 (0-1)，值越大回弹越快。</td></tr><tr><td><code>bounceSpeedThreshold</code></td><td><code>number</code></td><td>否</td><td><code>1</code></td><td>触发回弹的速度阈值。</td></tr><tr><td><code>onBounceStart</code></td><td><code>() =&gt; void</code></td><td>否</td><td>-</td><td>回弹动画开始时的回调。</td></tr><tr><td><code>onBounceComplete</code></td><td><code>() =&gt; void</code></td><td>否</td><td>-</td><td>回弹动画完成时的回调。</td></tr></tbody></table><h3 id="实例方法-methods" tabindex="-1">实例方法 (Methods) <a class="header-anchor" href="#实例方法-methods" aria-label="Permalink to &quot;实例方法 (Methods)&quot;">​</a></h3><p>可以通过组件实例调用以下方法来控制滚动。</p><table tabindex="0"><thead><tr><th>方法名</th><th>参数</th><th>返回值</th><th>说明</th></tr></thead><tbody><tr><td><code>scrollTo</code></td><td><code>(x: number, y: number)</code></td><td><code>void</code></td><td>滚动到指定位置。</td></tr></tbody></table><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><h3 id="_1-性能优化" tabindex="-1">1. 性能优化 <a class="header-anchor" href="#_1-性能优化" aria-label="Permalink to &quot;1. 性能优化&quot;">​</a></h3><ul><li><code>ScrollView</code> 默认开启 <code>overflow: &#39;hidden&#39;</code>，这会使用 Canvas 的 <code>clip()</code> 操作。虽然这对实现滚动视图是必须的，但在嵌套极深的结构中频繁使用 clip 可能会影响性能。</li><li>建议仅在需要裁剪的层级使用 <code>ScrollView</code>，避免不必要的嵌套。</li></ul><h3 id="_2-兼容性" tabindex="-1">2. 兼容性 <a class="header-anchor" href="#_2-兼容性" aria-label="Permalink to &quot;2. 兼容性&quot;">​</a></h3><ul><li><code>ScrollView</code> 自动处理了子元素的变换矩阵，因此子元素无需关心视口的偏移，只需根据自身逻辑绘制即可。</li><li>如果在 <code>ScrollView</code> 内部使用了绝对定位 (<code>Positioned</code>)，它们是相对于 <code>ScrollView</code> 内容区域定位的，会跟随滚动移动。</li></ul><h3 id="_3-常见问题" tabindex="-1">3. 常见问题 <a class="header-anchor" href="#_3-常见问题" aria-label="Permalink to &quot;3. 常见问题&quot;">​</a></h3><ul><li><strong>无法滚动？</strong> 请确保 <code>width</code> 和 <code>height</code> 已正确设置（或由父级约束决定），且内容尺寸 (<code>_contentSize</code>) 确实大于视口尺寸。</li><li><strong>滚动条不显示？</strong> 确保 <code>scrollBarColor</code> 已设置，并且内容确实溢出了视口。</li></ul>',14))])}g(b,"_sfc_render");const v=C(n,[["render",b]]);export{p as __pageData,v as default};
