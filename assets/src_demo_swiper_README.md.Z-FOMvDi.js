import{_ as r,C as t,c as n,o as d,j as o,G as l,ai as c,a}from"./chunks/framework.Ckc8SVM3.js";const m=JSON.parse('{"title":"轮播组件 (Swiper)","description":"","frontmatter":{},"headers":[],"relativePath":"src/demo/swiper/README.md","filePath":"src/demo/swiper/README.md"}'),g={name:"src/demo/swiper/README.md"};function s(I,e,A,C,u,p){const i=t("InkCodeBlock");return d(),n("div",null,[e[0]||(e[0]=o("h1",{id:"轮播组件-swiper",tabindex:"-1"},[a("轮播组件 (Swiper) "),o("a",{class:"header-anchor",href:"#轮播组件-swiper","aria-label":'Permalink to "轮播组件 (Swiper)"'},"​")],-1)),e[1]||(e[1]=o("p",null,[a("这是一个基于 "),o("code",null,"@edeink/inkwell"),a(" 框架实现的高性能、可触摸滑动的轮播组件演示。展示了框架在处理复杂手势、物理动画和定时任务方面的能力。")],-1)),e[2]||(e[2]=o("h2",{id:"目录结构",tabindex:"-1"},[a("目录结构 "),o("a",{class:"header-anchor",href:"#目录结构","aria-label":'Permalink to "目录结构"'},"​")],-1)),l(i,{"code-base64":"c3JjL2RlbW8vc3dpcGVyLwrilJzilIDilIAgX190ZXN0c19fLyAgICAgICAgICAgICAgICAgICMg5rWL6K+V55So5L6LCuKUnOKUgOKUgCB3aWRnZXRzLyAgICAgICAgICAgICAgICAgICAgIyDmoLjlv4Pnu4Tku7blrp7njrAK4pSCICAg4pSU4pSA4pSAIHN3aXBlci8K4pSCICAgICAgIOKUnOKUgOKUgCBpbmRleC50c3ggICAgICAgICAgICMgU3dpcGVyIOe7hOS7tuaguOW/g+mAu+i+kQrilIIgICAgICAg4pSU4pSA4pSAIGVhc2luZy50cyAgICAgICAgICAgIyDotJ3loZ7lsJTmm7Lnur/nvJPliqjlh73mlbAK4pSc4pSA4pSAIGFwcC50c3ggICAgICAgICAgICAgICAgICAgICAjIOa8lOekuuW6lOeUqOWFpeWPowrilJzilIDilIAgY29tcG9uZW50cy50c3ggICAgICAgICAgICAgICMg5ryU56S655So55qE5bGV56S65Y2h54mH57uE5Lu2CuKUlOKUgOKUgCBpbmRleC50c3ggICAgICAgICAgICAgICAgICAgIyDlpJbpg6jmjILovb3ngrkK",lang:"",meta:""}),e[3]||(e[3]=c('<h2 id="核心架构与实现" tabindex="-1">核心架构与实现 <a class="header-anchor" href="#核心架构与实现" aria-label="Permalink to &quot;核心架构与实现&quot;">​</a></h2><h3 id="_1-物理模型与动画" tabindex="-1">1. 物理模型与动画 <a class="header-anchor" href="#_1-物理模型与动画" aria-label="Permalink to &quot;1. 物理模型与动画&quot;">​</a></h3><p>Swiper 组件并没有使用 CSS 动画，而是通过 Inkwell 的渲染循环 (<code>requestAnimationFrame</code>) 实现了基于物理的动画系统：</p><ul><li><strong>状态管理</strong>: <code>Swiper</code> 组件维护 <code>currentIndex</code> (当前索引) 和 <code>offset</code> (偏移量)。</li><li><strong>动画引擎</strong>: <code>animateTo</code> 方法驱动每一帧的更新。</li><li><strong>缓动函数</strong>: <code>easing.ts</code> 中实现了三次贝塞尔曲线 (<code>Cubic Bezier</code>) 算法，特别是 <code>easeSharp</code> 曲线，提供了接近原生系统的流畅滑动回弹手感。</li></ul><h3 id="_2-触摸事件处理" tabindex="-1">2. 触摸事件处理 <a class="header-anchor" href="#_2-触摸事件处理" aria-label="Permalink to &quot;2. 触摸事件处理&quot;">​</a></h3><p>组件实现了完整的触摸/鼠标交互逻辑，支持 &quot;拖拽-跟随-释放&quot; 的交互模式：</p><ul><li><strong>事件捕获</strong>: 监听 <code>onPointerDown</code>, <code>onPointerMove</code>, <code>onPointerUp</code> 事件。</li><li><strong>拖拽跟随</strong>: 在 <code>dragging</code> 状态下，内容直接跟随手指移动 (<code>setState({ offset: delta })</code>)，实现 1:1 的跟手效果。</li><li><strong>惯性判断</strong>: 释放时，根据拖拽距离和速度判断是回弹还是切换到下一页。</li></ul><h3 id="_3-自动播放机制" tabindex="-1">3. 自动播放机制 <a class="header-anchor" href="#_3-自动播放机制" aria-label="Permalink to &quot;3. 自动播放机制&quot;">​</a></h3><ul><li><strong>生命周期管理</strong>: 在 <code>createElement</code> 和组件销毁时正确处理定时器 (<code>setInterval</code>)。</li><li><strong>交互暂停</strong>: 当用户正在触摸/拖拽 (<code>dragging</code>) 或鼠标悬停 (<code>isHovering</code>) 时，自动暂停轮播，用户操作结束后恢复。</li></ul><h3 id="_4-无限循环-infinite-loop" tabindex="-1">4. 无限循环 (Infinite Loop) <a class="header-anchor" href="#_4-无限循环-infinite-loop" aria-label="Permalink to &quot;4. 无限循环 (Infinite Loop)&quot;">​</a></h3><p><em>(注：当前演示版本为基础版，若涉及无限循环通常采用以下策略)</em></p><ul><li>在首尾追加克隆节点。</li><li>当滑动到克隆节点时，瞬间无缝跳转到真实节点位置 (<code>offset</code> 重置)，从而制造无限滚动的视觉错觉。</li></ul><h2 id="性能优化策略" tabindex="-1">性能优化策略 <a class="header-anchor" href="#性能优化策略" aria-label="Permalink to &quot;性能优化策略&quot;">​</a></h2><ul><li><strong>RequestAnimationFrame</strong>: 所有的动画更新均由 RAF 驱动，确保 60fps 流畅度。</li><li><strong>按需渲染</strong>: 仅渲染当前可见的 Slide 及其相邻的预加载 Slide。</li><li><strong>Layer 合成</strong>: 利用 Inkwell 的 RenderObject 树结构，将 Slide 内容包裹在独立的绘制层中，减少重绘开销。</li></ul><h2 id="配置参数" tabindex="-1">配置参数 <a class="header-anchor" href="#配置参数" aria-label="Permalink to &quot;配置参数&quot;">​</a></h2><p><code>Swiper</code> 组件支持丰富的配置：</p><ul><li><code>items</code>: 轮播内容组件数组。</li><li><code>autoplay</code>: 是否自动播放 (boolean)。</li><li><code>interval</code>: 自动播放间隔 (ms)。</li><li><code>duration</code>: 滑动动画时长 (ms)。</li><li><code>theme</code>: 主题配置。</li></ul><h2 id="技术栈" tabindex="-1">技术栈 <a class="header-anchor" href="#技术栈" aria-label="Permalink to &quot;技术栈&quot;">​</a></h2><ul><li><strong>Core</strong>: <code>@edeink/inkwell</code></li><li><strong>Animation</strong>: Custom Cubic Bezier Easing</li><li><strong>Gesture</strong>: Pointer Events</li></ul>',19)),l(i,{"code-base64":"",lang:"",meta:""})])}const b=r(g,[["render",s]]);export{m as __pageData,b as default};
