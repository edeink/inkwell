var i=Object.defineProperty;var C=(I,g)=>i(I,"name",{value:g,configurable:!0});import{_ as A,C as n,c as t,o as r,j as e,G as a,ai as d,a as l}from"./chunks/framework.BnOgjZe9.js";const K=JSON.parse('{"title":"思维导图 (Mindmap)","description":"","frontmatter":{},"headers":[],"relativePath":"src/demo/mindmap/README.md","filePath":"src/demo/mindmap/README.md"}'),c={name:"src/demo/mindmap/README.md"};function s(I,g,u,p,m,h){const o=n("InkCodeBlock");return r(),t("div",null,[g[0]||(g[0]=e("h1",{id:"思维导图-mindmap",tabindex:"-1"},[l("思维导图 (Mindmap) "),e("a",{class:"header-anchor",href:"#思维导图-mindmap","aria-label":'Permalink to "思维导图 (Mindmap)"'},"​")],-1)),g[1]||(g[1]=e("p",null,[l("这是一个功能完备的思维导图应用演示，展示了 "),e("code",null,"@edeink/inkwell"),l(" 框架在处理复杂图形布局、高性能交互和数据可视化方面的能力。")],-1)),g[2]||(g[2]=e("h2",{id:"目录结构",tabindex:"-1"},[l("目录结构 "),e("a",{class:"header-anchor",href:"#目录结构","aria-label":'Permalink to "目录结构"'},"​")],-1)),a(o,{"code-base64":"c3JjL2RlbW8vbWluZG1hcC8K4pSc4pSA4pSAIF9fdGVzdHNfXy8gICAgICAgICAgICAgICAgICAjIOivpuWwveeahOmbhuaIkOa1i+ivleS4juWNleWFg+a1i+ivlQrilJzilIDilIAgYXBwLnRzeCAgICAgICAgICAgICAgICAgICAgICMg5bqU55So5YWl5Y+j57uE5Lu2IChNaW5kbWFwRGVtbykK4pSc4pSA4pSAIGNvbnN0YW50cy8gICAgICAgICAgICAgICAgICAjIOW4uOmHj+WumuS5iSAo5Li76aKY44CB6YWN572uKQrilJzilIDilIAgY29tcG9uZW50cy8gICAgICAgICAgICAgICAgICMgVUkg57uE5Lu2IChSZWFjdOWxgikK4pSCICAg4pSc4pSA4pSAIG1pbmltYXAvICAgICAgICAgICAgICAgICMg57yp55Wl5Zu+5a+86IiqCuKUgiAgIOKUnOKUgOKUgCB0b29sYmFyLyAgICAgICAgICAgICAgICAjIOW3peWFt+agjwrilIIgICDilJzilIDilIAgem9vbS1iYXIvICAgICAgICAgICAgICAgIyDnvKnmlL7mjqfliLbmnaEK4pSCICAg4pSU4pSA4pSAIGVycm9yLWJvdW5kYXJ5LyAgICAgICAgICMg6ZSZ6K+v6L6555WMCuKUnOKUgOKUgCBjb250cm9sbGVyLyAgICAgICAgICAgICAgICAgIyDmoLjlv4PpgLvovpHmjqfliLblmagK4pSCICAg4pSc4pSA4pSAIG1vZHVsZXMvICAgICAgICAgICAgICAgICMg5Yqf6IO95qih5Z2XICjkuqTkupLjgIHluIPlsYDjgIHop4blm74pCuKUgiAgIOKUnOKUgOKUgCBwbHVnaW5zLnRzICAgICAgICAgICAgICAjIOaPkuS7tuezu+e7n+WumuS5iQrilIIgICDilJTilIDilIAgaW5kZXgudHMgICAgICAgICAgICAgICAgIyBNaW5kbWFwQ29udHJvbGxlcgrilJzilIDilIAgaGVscGVycy8gICAgICAgICAgICAgICAgICAgICMg6L6F5Yqp5bel5YW35bqTCuKUgiAgIOKUnOKUgOKUgCBsYXlvdXQtZW5naW5lLyAgICAgICAgICAjIOW4g+WxgOeul+azleW8leaTjiAo5qC45b+DKQrilIIgICDilJzilIDilIAgc2hvcnRjdXQvICAgICAgICAgICAgICAgIyDlv6vmjbfplK7ns7vnu58K4pSCICAg4pSc4pSA4pSAIGNvbm5lY3Rpb24tZHJhd2VyLnRzICAgICMg6L+e57q/57uY5Yi26YC76L6RCuKUgiAgIOKUlOKUgOKUgCBzdGF0ZS1oZWxwZXIudHMgICAgICAgICAjIOeKtuaAgeeuoeeQhui+heWKqQrilJzilIDilIAgaG9va3MvICAgICAgICAgICAgICAgICAgICAgICMgUmVhY3QgSG9va3MK4pSc4pSA4pSAIHdpZGdldHMvICAgICAgICAgICAgICAgICAgICAjIElua3dlbGwgV2lkZ2V0IOe7hOS7tgrilIIgICDilJzilIDilIAgY29ubmVjdG9yLyAgICAgICAgICAgICAgIyDov57mjqXnur/nu4Tku7YK4pSCICAg4pSc4pSA4pSAIG1pbmRtYXAtbGF5b3V0LyAgICAgICAgICMg5biD5bGA5a655Zmo57uE5Lu2CuKUgiAgIOKUnOKUgOKUgCBtaW5kbWFwLW5vZGUvICAgICAgICAgICAjIOiKgueCuee7hOS7tgrilIIgICDilJzilIDilIAgbWluZG1hcC12aWV3cG9ydC8gICAgICAgIyDop4blj6PmjqfliLbnu4Tku7YK4pSCICAg4pSU4pSA4pSAIC4uLgrilJzilIDilIAgaW5kZXgudHN4ICAgICAgICAgICAgICAgICAgICMg5aSW6YOo5oyC6L2954K5CuKUlOKUgOKUgCB0eXBlLnRzICAgICAgICAgICAgICAgICAgICAgIyDnsbvlnovlrprkuYkK",lang:"",meta:""}),g[3]||(g[3]=d('<h2 id="核心架构与实现" tabindex="-1">核心架构与实现 <a class="header-anchor" href="#核心架构与实现" aria-label="Permalink to &quot;核心架构与实现&quot;">​</a></h2><h3 id="_1-核心算法与数据结构" tabindex="-1">1. 核心算法与数据结构 <a class="header-anchor" href="#_1-核心算法与数据结构" aria-label="Permalink to &quot;1. 核心算法与数据结构&quot;">​</a></h3><p>思维导图的核心在于布局算法和图数据结构：</p><ul><li><strong>数据结构</strong>: 采用 <strong>图 (Graph)</strong> 结构存储，节点 (<code>GraphNode</code>) 通过 ID 索引，边 (<code>GraphEdge</code>) 记录连接关系。</li><li><strong>布局引擎 (<code>LayoutEngine</code>)</strong>: <ul><li>位于 <code>helpers/layout-engine/</code>。</li><li>支持多种布局模式：<code>tree</code> (单向树状), <code>treeBalanced</code> (平衡树状), <code>radial</code> (放射状)。</li><li><strong>平衡算法</strong>: <code>computeBalancedDepthAware</code> 实现了智能的左右平衡算法，根据子树高度动态分配节点位置，避免重叠并保持视觉平衡。</li></ul></li></ul><h3 id="_2-渲染引擎工作原理" tabindex="-1">2. 渲染引擎工作原理 <a class="header-anchor" href="#_2-渲染引擎工作原理" aria-label="Permalink to &quot;2. 渲染引擎工作原理&quot;">​</a></h3><p>利用 Inkwell 的高性能渲染管线：</p><ul><li><strong>MindMapViewport</strong>: 负责处理视口的平移 (<code>scrollX/Y</code>) 和缩放 (<code>scale</code>)。它是一个 <code>RenderObjectWidget</code>，直接处理 Canvas 变换矩阵。</li><li><strong>MindMapLayout</strong>: 自定义布局组件，接收计算好的节点位置信息，将子组件 (<code>MindMapNode</code>) 放置在精确坐标上。</li><li><strong>连接线绘制</strong>: <code>Connector</code> 组件根据起点和终点，使用贝塞尔曲线 (<code>Bezier Curve</code>) 绘制平滑的连接线。</li></ul><h3 id="_3-用户交互事件处理" tabindex="-1">3. 用户交互事件处理 <a class="header-anchor" href="#_3-用户交互事件处理" aria-label="Permalink to &quot;3. 用户交互事件处理&quot;">​</a></h3><p>交互逻辑被解耦在 <code>MindmapController</code> 中：</p><ul><li><strong>MindmapController</strong>: 作为 MVC 模式中的 Controller，协调 View (Widget) 和 Model (State)。</li><li><strong>InteractionModule</strong>: 处理点击、拖拽、选中等交互行为。</li><li><strong>ViewModule</strong>: 管理视口状态同步。</li><li><strong>事件流</strong>: 用户操作 -&gt; Widget 捕获事件 -&gt; Controller 处理逻辑 -&gt; 更新 State -&gt; 触发 Re-build -&gt; 界面更新。</li></ul><h3 id="_4-性能优化" tabindex="-1">4. 性能优化 <a class="header-anchor" href="#_4-性能优化" aria-label="Permalink to &quot;4. 性能优化&quot;">​</a></h3><ul><li><strong>局部重绘</strong>: 仅在节点状态改变时更新特定节点，避免全量刷新。</li><li><strong>Canvas 变换</strong>: 利用 Canvas 2D 的 <code>transform</code> API 进行零成本的缩放和平移。</li><li><strong>虚拟化</strong>: (待实现) 对于超大规模导图，可仅渲染视口内的节点。</li><li><strong>事件节流</strong>: 在 <code>HighlightOverlay</code> 等组件中使用 <code>requestAnimationFrame</code> 和节流技术优化高频事件处理。</li></ul><h2 id="扩展接口" tabindex="-1">扩展接口 <a class="header-anchor" href="#扩展接口" aria-label="Permalink to &quot;扩展接口&quot;">​</a></h2><p>项目设计了插件化架构，便于功能扩展：</p><ul><li><strong>Controller Plugins</strong>: <code>MindmapController</code> 支持注册插件 (<code>ControllerPlugin</code>)，可以挂载自定义的初始化逻辑或事件监听。</li><li><strong>Widget 扩展</strong>: <code>MindMapNode</code> 支持自定义渲染内容，通过 <code>CustomComponentType</code> 进行类型识别。</li></ul><h2 id="技术要点" tabindex="-1">技术要点 <a class="header-anchor" href="#技术要点" aria-label="Permalink to &quot;技术要点&quot;">​</a></h2><ul><li><strong>MVC 架构</strong>: 视图与逻辑分离。</li><li><strong>复杂算法</strong>: 递归树布局、碰撞检测。</li><li><strong>混合渲染</strong>: 结合 Inkwell (Canvas) 渲染图形区和 React (DOM) 渲染工具栏/缩略图。</li></ul>',17)),a(o,{"code-base64":"",lang:"",meta:""})])}C(s,"_sfc_render");const W=A(c,[["render",s]]);export{K as __pageData,W as default};
